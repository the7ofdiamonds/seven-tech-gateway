{"version":3,"file":"AccountActivation.js","sources":["../../src/views/AccountActivation.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { activateAccount } from '../controllers/accountSlice';\n\nimport StatusBarComponent from './components/StatusBarComponent';\n\nimport { isValidEmail } from '../utils/Validation';\n\nfunction AccountActivation() {\n  const { emailEncoded, confirmationCode } = useParams();\n\n  const email = emailEncoded.replace(/%40/g, '@');\n\n  const dispatch = useDispatch();\n\n  const { accountSuccessMessage, accountErrorMessage } = useSelector(\n    (state) => state.account\n  );\n\n  const [message, setMessage] = useState(\n    'Check your email for the confirmation code and link.'\n  );\n  const [messageType, setMessageType] = useState('');\n\n  useEffect(() => {\n    console.log(email);\n    if (isValidEmail(email) != true) {\n      setMessageType('error');\n      setMessage('Email is not valid.');\n    }\n  }, [email]);\n\n  useEffect(() => {\n    if (accountSuccessMessage) {\n      setMessage(accountSuccessMessage);\n      setMessageType('success');\n    }\n  }, [accountSuccessMessage]);\n\n  useEffect(() => {\n    if (accountErrorMessage) {\n      setMessage(accountErrorMessage);\n      setMessageType('error');\n    }\n  }, [accountErrorMessage]);\n\n  useEffect(() => {\n    dispatch(activateAccount({ email, confirmationCode }));\n  }, [email, confirmationCode]);\n\n  return (\n    <>\n      <main>\n        {message !== '' && (\n          <StatusBarComponent messageType={messageType} message={message} />\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default AccountActivation;\n"],"names":["AccountActivation","_useParams","useParams","emailEncoded","confirmationCode","email","replace","dispatch","useDispatch","_useSelector","useSelector","state","account","accountSuccessMessage","accountErrorMessage","_useState","useState","_useState2","_slicedToArray","message","setMessage","_useState3","_useState4","messageType","setMessageType","useEffect","console","log","isValidEmail","activateAccount","jsx","Fragment","children","StatusBarComponent"],"mappings":"+HAUA,SAASA,GAAoB,CAC3B,IAAAC,EAA2CC,EAAU,EAA7CC,EAAAF,EAAAE,aAAcC,EAAiBH,EAAjBG,iBAEhBC,EAAQF,EAAaG,QAAQ,OAAQ,GAAG,EAExCC,EAAWC,IAEXC,EAAiDC,EACrD,SAACC,UAAUA,EAAMC,OAAA,CACnB,EAFQC,EAAuBJ,EAAvBI,sBAAuBC,EAAAL,EAAAK,oBAIzBC,EAAwBC,EAAA,SAC5B,sDACF,EAAAC,EAAAC,EAAAH,EAAA,CAAA,EAFOI,EAASF,EAAA,CAAA,EAAAG,EAAUH,EAAA,CAAA,EAG1BI,EAAsCL,WAAS,EAAE,EAAAM,EAAAJ,EAAAG,EAAA,CAAA,EAA1CE,EAAAD,EAAA,CAAA,EAAaE,EAAcF,EAAA,CAAA,EAElCG,OAAAA,EAAAA,UAAU,UAAM,CACdC,QAAQC,IAAItB,CAAK,EACbuB,EAAavB,CAAK,GAAK,KACzBmB,EAAe,OAAO,EACtBJ,EAAW,qBAAqB,EAEpC,EAAG,CAACf,CAAK,CAAC,EAEVoB,EAAAA,UAAU,UAAM,CACVZ,IACFO,EAAWP,CAAqB,EAChCW,EAAe,SAAS,EAE5B,EAAG,CAACX,CAAqB,CAAC,EAE1BY,EAAAA,UAAU,UAAM,CACVX,IACFM,EAAWN,CAAmB,EAC9BU,EAAe,OAAO,EAE1B,EAAG,CAACV,CAAmB,CAAC,EAExBW,EAAAA,UAAU,UAAM,CACdlB,EAASsB,EAAgB,CAAExB,MAAAA,EAAOD,iBAAAA,CAAkB,CAAA,CAAC,CACvD,EAAG,CAACC,EAAOD,CAAgB,CAAC,EAG1B0B,EAAAA,IAAAC,EAAAA,SAAA,CACEC,SAACF,EAAA,IAAA,OAAA,CACEE,SAAYb,IAAA,UACVc,EAAmB,CAAAV,YAAAA,EAA0BJ,QAAAA,EAAkB,EAEpE,CACF,CAAA,CAEJ"}