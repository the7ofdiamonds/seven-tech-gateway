import{e as w,f as u,g as C,n as T,r as d,_ as m,j as e}from"./index.js";import{N as k}from"./NavigationLogin.js";import{d as N}from"./DisplayStatus.js";var R=function(){var l=w(u().mark(function a(t){var i,o,s;return u().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=C(),r.prev=1,r.next=4,T(i,t);case 4:return r.abrupt("return","An email has been sent with a link to reset your password.");case 7:return r.prev=7,r.t0=r.catch(1),o=r.t0.code,s=r.t0.message,r.abrupt("return","Error (".concat(o,"): ").concat(s));case 12:case"end":return r.stop()}},a,null,[[1,7]])}));return function(t){return l.apply(this,arguments)}}();function F(){var l=d.useState(""),a=m(l,2),t=a[0],i=a[1],o=d.useState(""),s=m(o,2),h=s[0],r=s[1],y=d.useState("If you forgot your password, enter your username or email."),p=m(y,2),f=p[0],x=p[1],S=function(){var g=w(u().mark(function n(v){return u().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:v.preventDefault(),R(t).then(function(){var E=new URLSearchParams(window.location.search),j=E.get("redirectTo");setTimeout(function(){j===null?window.location.href="/login":window.location.href=j},5e3),x(N("Check your inbox and spam for ".concat(t))),r("info")});case 2:case"end":return c.stop()}},n)}));return function(v){return g.apply(this,arguments)}}(),b=function(n){n.target.name==="email"&&i(n.target.value)};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"forgot",children:[e.jsx(k,{}),e.jsx("div",{className:"login card",children:e.jsx("form",{children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"email",name:"email",placeholder:"Email",onChange:b,required:!0})})})}),e.jsx("tfoot",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:S,children:e.jsx("h3",{children:"RESET"})})})})]})})}),f!==""&&e.jsx("div",{className:"status-bar card ".concat(h),children:e.jsx("span",{children:f})})]})})}export{F as default};
//# sourceMappingURL=Forgot.js.map
