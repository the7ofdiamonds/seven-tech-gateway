import{r as c,e as f,j as e,f as v,h as w,i as _,u as y}from"./index.js";import{N as E}from"./NavigationLoginComponent.js";import{u as S}from"./useDispatch.js";function C(){var l=S(),u=c.useState(""),a=f(u,2),t=a[0],n=a[1],d=function(){var o=v(w().mark(function s(i){return w().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i.preventDefault(),l(_(t));case 2:case"end":return r.stop()}},s)}));return function(i){return o.apply(this,arguments)}}(),m=function(s){s.target.name==="email"&&n(s.target.value)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"card",children:e.jsx("form",{children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"email",name:"email",placeholder:"Email",onChange:m,required:!0})})})}),e.jsx("tfoot",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:d,children:e.jsx("h3",{children:"RESET"})})})})]})})})})}function F(){var l="forgot",u=S(),a=y(function(h){return h.password}),t=a.passwordSuccessMessage,n=a.passwordErrorMessage,d=a.passwordStatusCode,m=c.useState(""),o=f(m,2),s=o[0],i=o[1],p=c.useState("If you forgot your password, enter your username or email."),r=f(p,2),g=r[0],x=r[1];return c.useEffect(function(){if(t){var h=new URLSearchParams(window.location.search),j=h.get("redirectTo");setTimeout(function(){j===null?window.location.href="/login":window.location.href=j},5e3),i("success"),x(t)}},[u,t]),c.useEffect(function(){n&&d!=403&&(i("error"),x(n))},[u,n]),e.jsx(e.Fragment,{children:e.jsxs("main",{className:"forgot",children:[e.jsx(E,{page:l}),e.jsx(C,{}),g!==""&&e.jsx("div",{className:"status-bar card ".concat(s),children:e.jsx("span",{children:g})})]})})}export{F as default};
//# sourceMappingURL=Forgot.js.map
