import{r as a,e as d,j as e,f as C,h as v,i as T,u as b}from"./index.js";import{N as M}from"./NavigationLoginComponent.js";import{u as _}from"./useDispatch.js";import{S as F}from"./StatusBarComponent.js";function N(){var m=_(),c=a.useState(""),t=d(c,2),o=t[0],n=t[1],f=function(){var i=C(v().mark(function s(u){return v().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:u.preventDefault(),m(T(o));case 2:case"end":return r.stop()}},s)}));return function(u){return i.apply(this,arguments)}}(),p=function(s){s.target.name==="email"&&n(s.target.value)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"forgot card",children:e.jsx("form",{children:e.jsxs("table",{children:[e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"email",name:"email",placeholder:"Email",onChange:p,required:!0})})})}),e.jsx("tfoot",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:f,children:e.jsx("h3",{children:"RESET"})})})})]})})})})}function L(){var m="forgot",c=_(),t=b(function(h){return h.password}),o=t.passwordSuccessMessage,n=t.passwordErrorMessage,f=t.passwordStatusCode,p=a.useState(""),i=d(p,2),s=i[0],u=i[1],g=a.useState(""),r=d(g,2),y=r[0],S=r[1],E=a.useState("If you forgot your password, enter your username or email."),x=d(E,2),l=x[0],w=x[1];return a.useEffect(function(){if(o){var h=new URLSearchParams(window.location.search),j=h.get("redirectTo");setTimeout(function(){j===null?window.location.href="/login":window.location.href=j},5e3),S("success"),w(o)}},[c,o]),a.useEffect(function(){n&&f!=403&&(S("error"),w(n))},[c,n]),a.useEffect(function(){l!=""&&(u("modal-overlay"),setTimeout(function(){u("")},5e3))},[l]),e.jsx(e.Fragment,{children:e.jsxs("main",{className:"forgot",children:[e.jsx(M,{page:m}),e.jsx(N,{}),e.jsx("span",{className:s,children:l!==""&&e.jsx(F,{messageType:y,message:l})})]})})}export{L as default};
//# sourceMappingURL=Forgot.js.map
