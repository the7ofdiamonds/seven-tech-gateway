import{r as u,e as p,j as e,f as v,h as j,i as y,u as _}from"./index.js";import{N as E}from"./NavigationLoginComponent.js";import{u as w}from"./useDispatch.js";import{S as C}from"./StatusBarComponent.js";function T(){var l=w(),c=u.useState(""),a=p(c,2),t=a[0],o=a[1],d=function(){var n=v(j().mark(function s(i){return j().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i.preventDefault(),l(y(t));case 2:case"end":return r.stop()}},s)}));return function(i){return n.apply(this,arguments)}}(),m=function(s){s.target.name==="email"&&o(s.target.value)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"forgot card",children:e.jsx("form",{children:e.jsxs("table",{children:[e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"email",name:"email",placeholder:"Email",onChange:m,required:!0})})})}),e.jsx("tfoot",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:d,children:e.jsx("h3",{children:"RESET"})})})})]})})})})}function R(){var l="forgot",c=w(),a=_(function(f){return f.password}),t=a.passwordSuccessMessage,o=a.passwordErrorMessage,d=a.passwordStatusCode,m=u.useState(""),n=p(m,2),s=n[0],i=n[1],h=u.useState("If you forgot your password, enter your username or email."),r=p(h,2),g=r[0],x=r[1];return u.useEffect(function(){if(t){var f=new URLSearchParams(window.location.search),S=f.get("redirectTo");setTimeout(function(){S===null?window.location.href="/login":window.location.href=S},5e3),i("success"),x(t)}},[c,t]),u.useEffect(function(){o&&d!=403&&(i("error"),x(o))},[c,o]),e.jsx(e.Fragment,{children:e.jsxs("main",{className:"forgot",children:[e.jsx(E,{page:l}),e.jsx(T,{}),g!==""&&e.jsx(C,{messageType:s,message:g})]})})}export{R as default};
//# sourceMappingURL=Forgot.js.map
