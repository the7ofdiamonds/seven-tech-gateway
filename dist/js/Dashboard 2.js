import{u as i,r as s,_ as u,j as e,k as ae,m as Oe,n as qe,o as Be,p as Ge,q as Ve,h as ze,s as He,t as Je,l as Ke,v as Qe,w as We}from"./index.js";import{S as Xe,L as Ye}from"./LoginComponent.js";import{u as se}from"./useDispatch.js";import"./NavigationLoginComponent.js";function Ze(){var t=se(),h=i(function(n){return n.change}),j=h.changeLoading;h.changeError;var m=h.changeSuccessMessage,w=h.changeErrorMessage,b=h.changeStatusCode,g=i(function(n){return n.email}),E=g.emailLoading;g.emailError;var N=g.emailSuccessMessage,S=g.emailErrorMessage,D=g.emailStatusCode,d=i(function(n){return n.password}),A=d.passwordLoading;d.passwordError;var p=d.passwordSuccessMessage,_=d.passwordErrorMessage,L=d.passwordStatusCode,v=i(function(n){return n.logout});v.logoutLoading,v.logoutError;var C=v.logoutSuccessMessage,f=v.logoutErrorMessage,c=i(function(n){return n.account}),U=c.accountLoading;c.accountError;var x=c.accountSuccessMessage,P=c.accountErrorMessage,y=c.accountStatusCode,M=c.email,o=c.username,te=c.firstname,ne=c.lastname,re=c.phone,oe=s.useState(te),V=u(oe,2),T=V[0],ce=V[1],ue=s.useState(ne),z=u(ue,2),I=z[0],le=z[1],ie=s.useState(o),H=u(ie,2),O=H[0],he=H[1],de=s.useState(""),J=u(de,2),k=J[0],ge=J[1],fe=s.useState(""),K=u(fe,2),R=K[0],me=K[1],Se=s.useState(re),Q=u(Se,2),q=Q[0],pe=Q[1],ve=s.useState(""),W=u(ve,2),B=W[0],Ce=W[1],xe=s.useState(""),X=u(xe,2),je=X[0],Y=X[1],we=s.useState(""),Z=u(we,2),Ee=Z[0],l=Z[1],Ne=s.useState(""),$=u(Ne,2),F=$[0],r=$[1];s.useEffect(function(){j&&r("")},[t,j]),s.useEffect(function(){E&&r("")},[t,E]),s.useEffect(function(){A&&r("")},[t,A]),s.useEffect(function(){U&&r("")},[t,U]),s.useEffect(function(){C&&(l("success"),r(C))},[t,C]),s.useEffect(function(){m&&(l("success"),r(m))},[t,m]),s.useEffect(function(){N&&(l("success"),r(N))},[t,N]),s.useEffect(function(){p&&(l("success"),r(p))},[t,p]),s.useEffect(function(){x&&(l("success"),r(x))},[t,x]),s.useEffect(function(){f&&(l("error"),r(f))},[t,f]),s.useEffect(function(){w&&(l("error"),r(w))},[t,w]),s.useEffect(function(){S&&(l("error"),r(S))},[t,S]),s.useEffect(function(){_&&(l("error"),r(_))},[t,_]),s.useEffect(function(){P&&(l("error"),r(P))},[t,P]),s.useEffect(function(){(b!=403||D!=403||L!=403||y!=403)&&F!=""&&(Y("modal-overlay"),setTimeout(function(){Y("")},3e3))},[t,b,D,L,y,F]);var _e=function(a){a.preventDefault(),a.target.name=="firstname"&&ce(a.target.value)},Le=function(a){a.preventDefault(),a.target.name=="lastname"&&le(a.target.value)},Pe=function(a){a.preventDefault(),(T!==""||I!=="")&&t(Oe({firstNameChange:T,lastNameChange:I})).then(function(G){G.payload.statusCode==201&&(t(qe(G.payload.firstname)),t(Be(G.payload.lastname)))})},ye=function(a){a.preventDefault(),a.target.name=="username"&&he(a.target.value)},Me=function(a){a.preventDefault(),O!=""&&t(Ge(O))},ee=function(a){a.preventDefault(),a.target.name=="password"&&ge(a.target.value),a.target.name=="confirmPassword"&&me(a.target.value)},be=function(a){a.preventDefault(),k==R&&k!=""&&R!=""&&t(Ve({password:k,confirmPassword:R}))},De=function(a){a.preventDefault(),M!=""||localStorage.getItem("email")!=""?t(ze(M||localStorage.getItem("email"))):(l("error"),r("An email is required to reset password."))},Ae=function(a){a.preventDefault(),a.target.name=="phone"&&pe(a.target.value)},Ue=function(a){a.preventDefault(),q!=""&&t(He(q))},ke=function(a){a.preventDefault(),a.target.name=="email"&&Ce(a.target.value)},Re=function(a){a.preventDefault(),B!=""&&t(Je(B))},Fe=function(){t(Ke()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Te=function(){ae!=null&&t(Qe()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Ie=function(){t(We())};return e.jsx(e.Fragment,{children:e.jsxs("table",{className:"settings",children:[e.jsx("thead",{children:e.jsx("th",{children:e.jsx("h2",{children:"Settings"})})}),e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("form",{action:"",children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"change-name",children:[e.jsx("input",{type:"text",name:"firstname",placeholder:"First Name",value:T,onChange:_e}),e.jsx("input",{type:"text",name:"lastname",placeholder:"Last Name",value:I,onChange:Le}),e.jsx("button",{onClick:Pe,children:e.jsx("h3",{children:"Change Name"})})]}),e.jsx("tr",{}),e.jsxs("tr",{className:"change-username",children:[e.jsx("input",{type:"text",name:"username",placeholder:"Username",value:O,onChange:ye}),e.jsx("button",{onClick:Me,children:e.jsx("h3",{children:"Change Username"})})]}),e.jsxs("tr",{className:"change-password",children:[e.jsx("input",{type:"password",name:"password",placeholder:"Password",value:k,onChange:ee}),e.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:R,onChange:ee}),e.jsx("button",{onClick:be,children:e.jsx("h3",{children:"Change Password"})})]}),e.jsx("tr",{className:"forgot-password",children:e.jsx("button",{onClick:De,children:e.jsx("h3",{children:"Forgot Password"})})}),e.jsxs("tr",{className:"change-phone",children:[e.jsx("input",{type:"text",name:"phone",placeholder:"Phone Number",value:q,onChange:Ae}),e.jsx("button",{onClick:Ue,children:e.jsx("h3",{children:"Change Phone"})})]}),e.jsxs("tr",{className:"remove-email",children:[e.jsx("input",{type:"text",name:"email",placeholder:"Email",value:B,onChange:ke}),e.jsx("button",{onClick:Re,children:e.jsx("h3",{children:"Remove Email"})})]})]})]})})})}),e.jsxs("tr",{className:"logout",children:[e.jsx("button",{onClick:Fe,children:e.jsx("h3",{children:"LOG OUT"})}),ae!=null&&e.jsx("button",{onClick:Te,children:e.jsx("h3",{children:"LOG OUT ALL"})})]}),e.jsx("tr",{className:"remove-account",children:e.jsx("button",{onClick:Ie,children:e.jsx("h3",{children:"REMOVE ACCOUNT"})})})]}),e.jsx("tfoot",{children:F!==""&&e.jsx("span",{className:je,children:e.jsx(Xe,{messageType:Ee,message:F})})})]})})}function ta(){var t=se(),h=i(function(o){return o.login}),j=h.profileImage,m=h.displayName,w=j||localStorage.getItem("profile_image"),b=m||localStorage.getItem("display_name"),g=i(function(o){return o.change}),E=g.changeStatusCode,N=i(function(o){return o.email}),S=N.emailStatusCode,D=i(function(o){return o.password}),d=D.passwordStatusCode,A=i(function(o){return o.login}),p=A.loginStatusCode,_=i(function(o){return o.account}),L=_.accountStatusCode,v=s.useState(""),C=u(v,2),f=C[0],c=C[1],U=s.useState(!1),x=u(U,2),P=x[0],y=x[1];s.useEffect(function(){p==200&&y(!1)},[p]),s.useEffect(function(){(E==403||S==403||d==403||L==403)&&y(!0)},[t,E,S,d,L]);var M=function(){f==!1&&c(!0),f==!0&&c(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"title",children:"Dashboard"}),e.jsxs("div",{className:"header",children:[e.jsx("div",{className:"profile-image",children:e.jsx("img",{src:"".concat(w),alt:""})}),e.jsx("h2",{className:"display-name",children:b}),e.jsx("div",{className:"options",children:e.jsx("button",{className:"settings-button",onClick:M,children:e.jsx("i",{class:"fa-solid fa-gears"})})})]}),f&&e.jsx(Ze,{}),P&&e.jsx("section",{className:"modal-overlay",children:e.jsx(Ye,{})})]})}export{ta as default};
//# sourceMappingURL=Dashboard.js.map
