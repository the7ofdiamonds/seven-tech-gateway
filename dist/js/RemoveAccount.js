import{a as N,u as k,r as a,e as i,a9 as C,j as e,ab as I,ac as O,ae as z}from"./index.js";import{S as G}from"./StatusBarComponent.js";import{u as H}from"./useDispatch.js";function Q(){var f=N(),_=f.emailEncoded,h=f.confirmationCode,w=H(),l=k(function(d){return d.account}),m=l.accountSuccessMessage,u=l.accountErrorMessage,p=l.accountStatusCode,y=a.useState(_.replace(/%40/g,"@")),S=i(y,2),t=S[0],b=S[1],M=a.useState(""),x=i(M,2),r=x[0],P=x[1],T=a.useState(""),v=i(T,2),D=v[0],j=v[1],A=a.useState(""),g=i(A,2),c=g[0],o=g[1],R=a.useState(""),E=i(R,2),V=E[0],n=E[1];a.useEffect(function(){(t==""||t==null)&&(n("error"),o("Email is not valid.")),C(t)!=!0&&(n("error"),o("Enter your email to remove your account."))},[t]),a.useEffect(function(){(r==""||r==null)&&(o("Enter your password to remove account."),n("error"))},[r]),a.useEffect(function(){p!=403&&c!=""&&(j("modal-overlay"),setTimeout(function(){j(!0)},3e3))},[p,c]),a.useEffect(function(){m&&(o(m),n("success"))},[m]),a.useEffect(function(){u&&(console.log(u),o(u),n("error"))},[u]);var q=function(s){s.preventDefault(),b(s.target.value)},B=function(s){s.preventDefault(),P(s.target.value)},F=function(s){s.preventDefault(),C(t)&&I(h)&&O(r)&&w(z({email:t,password:r,confirmationCode:h}))};return e.jsx(e.Fragment,{children:e.jsx("main",{children:e.jsx("form",{action:"",children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"text",name:"email",placeholder:"Email",onChange:q,value:t,required:!0})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"password",name:"password",placeholder:"Password",onChange:B,required:!0})})})]}),e.jsxs("tfoot",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:F,children:e.jsx("h3",{children:"CONFIRM"})})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("span",{className:D,children:c!==""&&e.jsx(G,{messageType:V,message:c})})})})]})]})})})})}export{Q as default};
//# sourceMappingURL=RemoveAccount.js.map
