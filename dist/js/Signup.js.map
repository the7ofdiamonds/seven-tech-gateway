{"version":3,"file":"Signup.js","sources":["../../src/views/Signup.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport NavigationLoginComponent from './components/NavigationLoginComponent';\nimport StatusBarComponent from './components/StatusBarComponent';\n\nimport { signup } from '../controllers/signupSlice';\n\nfunction SignUpComponent() {\n  let page = 'signup';\n\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [nicename, setNicename] = useState('');\n  const [nickname, setNickname] = useState('');\n  const [firstname, setFirstname] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [phone, setPhone] = useState('');\n  const [message, setMessage] = useState(\n    'Enter the username, email, and password of your choice to sign up.'\n  );\n  const [messageType, setMessageType] = useState('');\n\n  const dispatch = useDispatch();\n\n  const { signupStatusCode, signupSuccessMessage, signupErrorMessage } =\n    useSelector((state) => state.signup);\n\n  useEffect(() => {\n    if (\n      password !== '' &&\n      confirmPassword !== '' &&\n      password === confirmPassword\n    ) {\n      const msg = 'You have successfully entered your password twice.';\n      setMessage(msg);\n      setMessageType('success');\n    } else if (password !== '' && password !== confirmPassword) {\n      const msg = 'You have not entered your password twice.';\n      setMessage(msg);\n      setMessageType('error');\n    }\n  }, [password, confirmPassword]);\n\n  useEffect(() => {\n    if (signupStatusCode == 201) {\n      setTimeout(() => {\n        window.location.href = '/login';\n      }, 5000);\n    }\n  }, [signupStatusCode]);\n\n  useEffect(() => {\n    if (signupSuccessMessage) {\n      setMessageType('success');\n      setMessage(signupSuccessMessage);\n    }\n  }, [signupSuccessMessage]);\n\n  useEffect(() => {\n    if (signupErrorMessage) {\n      setMessageType('error');\n      setMessage(signupErrorMessage);\n    }\n  }, [signupErrorMessage]);\n\n  const credentials = {\n    username: username,\n    email: email,\n    password: password,\n    confirmPassword: confirmPassword,\n    nicename: nicename,\n    nickname: nickname,\n    firstname: firstname,\n    lastname: lastname,\n    phone: phone,\n    location: 'here',\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    dispatch(signup(credentials));\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === 'user-name') {\n      setUsername(e.target.value);\n    } else if (e.target.name === 'email') {\n      setEmail(e.target.value);\n    } else if (e.target.name === 'password') {\n      setPassword(e.target.value);\n    } else if (e.target.name === 'confirm-password') {\n      setConfirmPassword(e.target.value);\n    } else if (e.target.name === 'nicename') {\n      setNicename(e.target.value);\n    } else if (e.target.name === 'nickname') {\n      setNickname(e.target.value);\n    } else if (e.target.name === 'firstname') {\n      setFirstname(e.target.value);\n    } else if (e.target.name === 'lastname') {\n      setLastname(e.target.value);\n    } else if (e.target.name === 'phone') {\n      setPhone(e.target.value);\n    }\n  };\n\n  return (\n    <>\n      <main className=\"signup\">\n        <NavigationLoginComponent page={page} />\n\n        <div className=\"signup card\">\n          <form>\n            <table>\n              <tbody>\n                <tr>\n                  <td>\n                    <input\n                      type=\"text\"\n                      name=\"username\"\n                      placeholder=\"Username\"\n                      onChange={handleChange}\n                      required\n                    />\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      placeholder=\"Email\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <input\n                      type=\"password\"\n                      name=\"password\"\n                      placeholder=\"Password\"\n                      onChange={handleChange}\n                      required\n                    />\n                    <input\n                      type=\"password\"\n                      name=\"confirm-password\"\n                      placeholder=\"Confirm Password\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <input\n                      type=\"text\"\n                      name=\"nicename\"\n                      placeholder=\"Nice Name (eg. /nicename)\"\n                      onChange={handleChange}\n                      required\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"nickname\"\n                      placeholder=\"Nickname\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <input\n                      type=\"text\"\n                      name=\"firstname\"\n                      placeholder=\"First Name\"\n                      onChange={handleChange}\n                      required\n                    />\n                    <input\n                      type=\"text\"\n                      name=\"lastname\"\n                      placeholder=\"Last Name\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <input\n                      type=\"text\"\n                      name=\"phone\"\n                      placeholder=\"Phone\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <td>\n                  <button type=\"submit\" onClick={handleSubmit}>\n                    <h3>SIGN UP</h3>\n                  </button>\n                </td>\n              </tfoot>\n            </table>\n          </form>\n        </div>\n\n        {message !== '' && (\n          <StatusBarComponent messageType={messageType} message={message} />\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default SignUpComponent;\n"],"names":["SignUpComponent","page","_useState","useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","confirmPassword","setConfirmPassword","_useState9","_useState10","nicename","setNicename","_useState11","_useState12","nickname","setNickname","_useState13","_useState14","firstname","setFirstname","_useState15","_useState16","lastname","setLastname","_useState17","_useState18","phone","setPhone","_useState19","_useState20","message","setMessage","_useState21","_useState22","messageType","setMessageType","dispatch","useDispatch","_useSelector","useSelector","state","signup","signupStatusCode","signupSuccessMessage","signupErrorMessage","useEffect","msg","setTimeout","window","location","href","credentials","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_context","prev","next","preventDefault","stop","_x","apply","arguments","handleChange","target","name","value","jsx","Fragment","children","jsxs","className","NavigationLoginComponent","type","placeholder","onChange","required","onClick","StatusBarComponent"],"mappings":"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"}