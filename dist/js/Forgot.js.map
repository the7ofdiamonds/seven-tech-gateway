{"version":3,"file":"Forgot.js","sources":["../../src/views/components/ForgotComponent.jsx","../../src/views/Forgot.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { sendForgotPasswordEmail } from '../../controllers/passwordSlice';\n\nfunction ForgotComponent() {\n  const dispatch = useDispatch();\n\n  const [email, setEmail] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    dispatch(sendForgotPasswordEmail(email));\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === 'email') {\n      setEmail(e.target.value);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"forgot card\">\n        <form>\n          <table>\n            <tbody>\n              <tr>\n                <td>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    placeholder=\"Email\"\n                    onChange={handleChange}\n                    required\n                  />\n                </td>\n              </tr>\n            </tbody>\n            <tfoot>\n              <td>\n                <button type=\"submit\" onClick={handleSubmit}>\n                  <h3>RESET</h3>\n                </button>\n              </td>\n            </tfoot>\n          </table>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default ForgotComponent;\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport NavigationLoginComponent from './components/NavigationLoginComponent';\nimport ForgotComponent from './components/ForgotComponent';\nimport StatusBarComponent from './components/StatusBarComponent';\n\nfunction Forgot() {\n  let page = 'forgot';\n\n  const dispatch = useDispatch();\n\n  const { passwordSuccessMessage, passwordErrorMessage, passwordStatusCode } =\n    useSelector((state) => state.password);\n\n  const [messageType, setMessageType] = useState('');\n  const [message, setMessage] = useState(\n    'If you forgot your password, enter your username or email.'\n  );\n\n  useEffect(() => {\n    if (passwordSuccessMessage) {\n      const urlParams = new URLSearchParams(window.location.search);\n      const redirectTo = urlParams.get('redirectTo');\n\n      setTimeout(() => {\n        if (redirectTo === null) {\n          window.location.href = '/login';\n        } else {\n          window.location.href = redirectTo;\n        }\n      }, 5000);\n\n      setMessageType('success');\n      setMessage(passwordSuccessMessage);\n    }\n  }, [dispatch, passwordSuccessMessage]);\n\n  useEffect(() => {\n    if (passwordErrorMessage && passwordStatusCode != 403) {\n      setMessageType('error');\n      setMessage(passwordErrorMessage);\n    }\n  }, [dispatch, passwordErrorMessage]);\n\n  return (\n    <>\n      <main className=\"forgot\">\n        <NavigationLoginComponent page={page} />\n        <ForgotComponent />\n\n        {message !== '' && (\n          <StatusBarComponent messageType={messageType} message={message} />\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default Forgot;\n"],"names":["ForgotComponent","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","email","setEmail","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_context","prev","next","preventDefault","sendForgotPasswordEmail","stop","_x","apply","arguments","handleChange","target","name","value","jsx","Fragment","children","className","type","placeholder","onChange","required","onClick","Forgot","page","_useSelector","useSelector","state","password","passwordSuccessMessage","passwordErrorMessage","passwordStatusCode","messageType","setMessageType","_useState3","_useState4","message","setMessage","useEffect","urlParams","URLSearchParams","window","location","search","redirectTo","get","setTimeout","href","jsxs","NavigationLoginComponent","StatusBarComponent"],"mappings":"4MAKA,SAASA,GAAkB,CACzB,IAAMC,EAAWC,IAEjBC,EAA0BC,WAAS,EAAE,EAAAC,EAAAC,EAAAH,EAAA,CAAA,EAA9BI,EAAAF,EAAA,CAAA,EAAOG,EAAQH,EAAA,CAAA,EAEhBI,EAAA,UAAA,CAAA,IAAAC,EAAAC,EAAAC,EAAA,EAAAC,KAAe,SAAAC,EAAOC,EAAM,CAAA,OAAAH,EAAA,EAAAI,KAAA,SAAAC,EAAA,CAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,KAAA,CAAA,IAAA,GAChCJ,EAAEK,eAAe,EACRnB,EAAAoB,EAAwBd,CAAK,CAAC,EAAA,IAAA,GAAA,IAAA,MAAA,OAAAU,EAAAK,MAAA,CAAA,EAAAR,CAAA,CACzC,CAAA,CAAA,EAAA,OAHML,SAAAc,EAAA,CAAA,OAAAb,EAAAc,MAAA,KAAAC,SAAA,CAAA,KAKAC,EAAe,SAACX,EAAM,CACtBA,EAAEY,OAAOC,OAAS,SACXpB,EAAAO,EAAEY,OAAOE,KAAK,GAKzB,OAAAC,EAAAA,IAAAC,EAAAA,SAAA,CACEC,eAAC,MAAI,CAAAC,UAAU,cACbD,SAACF,EAAA,IAAA,OAAA,CACCE,gBAAC,QACC,CAAAA,SAAA,CAAAF,EAAA,IAAC,QACC,CAAAE,SAAAF,EAAA,IAAC,KACC,CAAAE,SAAAF,EAAA,IAAC,KACC,CAAAE,SAAAF,EAAA,IAAC,QAAA,CACCI,KAAK,QACLN,KAAK,QACLO,YAAY,QACZC,SAAUV,EACVW,SAAQ,GACV,EACF,EACF,CACF,CAAA,EACCP,EAAA,IAAA,QAAA,CACCE,SAACF,EAAA,IAAA,KAAA,CACCE,eAAC,SAAO,CAAAE,KAAK,SAASI,QAAS7B,EAC7BuB,SAACF,EAAA,IAAA,KAAA,CAAGE,SAAK,QAAA,EACX,EACF,CACF,CAAA,CAAA,EACF,EACF,EACF,CACF,CAAA,CAEJ,CC5CA,SAASO,GAAS,CAChB,IAAIC,EAAO,SAELvC,EAAWC,IAEXuC,EACJC,EAAY,SAACC,EAAU,CAAA,OAAAA,EAAMC,SAAQ,EAD/BC,IAAAA,uBAAwBC,EAAsBL,EAAtBK,qBAAsBC,EAAAN,EAAAM,mBAGtD5C,EAAsCC,WAAS,EAAE,EAAAC,EAAAC,EAAAH,EAAA,CAAA,EAA1C6C,EAAA3C,EAAA,CAAA,EAAa4C,EAAc5C,EAAA,CAAA,EAC5B6C,EAAwB9C,EAAA,SAC5B,4DACF,EAAA+C,EAAA7C,EAAA4C,EAAA,CAAA,EAFOE,EAASD,EAAA,CAAA,EAAAE,EAAUF,EAAA,CAAA,EAI1BG,OAAAA,EAAAA,UAAU,UAAM,CACd,GAAIT,EAAwB,CAC1B,IAAMU,EAAY,IAAIC,gBAAgBC,OAAOC,SAASC,MAAM,EACtDC,EAAaL,EAAUM,IAAI,YAAY,EAE7CC,WAAW,UAAM,CACXF,IAAe,KACjBH,OAAOC,SAASK,KAAO,SAEvBN,OAAOC,SAASK,KAAOH,GAExB,GAAI,EAEPX,EAAe,SAAS,EACxBI,EAAWR,CAAsB,CACnC,CACF,EAAG,CAAC5C,EAAU4C,CAAsB,CAAC,EAErCS,EAAAA,UAAU,UAAM,CACVR,GAAwBC,GAAsB,MAChDE,EAAe,OAAO,EACtBI,EAAWP,CAAoB,EAEnC,EAAG,CAAC7C,EAAU6C,CAAoB,CAAC,EAI/BhB,EAAAA,IAAAC,EAAAA,SAAA,CAAAC,SAAAgC,EAAA,KAAC,OAAK,CAAA/B,UAAU,SACdD,SAAA,CAAAF,EAAA,IAACmC,GAAyBzB,KAAAA,CAAY,CAAA,QACrCxC,EAAgB,CAAA,CAAA,EAEhBoD,IAAY,IACVtB,EAAA,IAAAoC,EAAA,CAAmBlB,YAAAA,EAA0BI,QAAAA,CAAkB,CAAA,CAAA,EAEpE,CACF,CAAA,CAEJ"}