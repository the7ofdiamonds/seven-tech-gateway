import{r as a,e as s,u as ue,j as e,f as oe,h as P,s as ce}from"./index.js";import{N as le}from"./NavigationLoginComponent.js";import{S as me}from"./StatusBarComponent.js";import{u as de}from"./useDispatch.js";function xe(){var k="signup",b=a.useState(""),h=s(b,2),M=h[0],T=h[1],U=a.useState(""),g=s(U,2),F=g[0],L=g[1],D=a.useState(""),f=s(D,2),n=f[0],G=f[1],R=a.useState(""),S=s(R,2),u=S[0],Y=S[1],A=a.useState(""),x=s(A,2),B=x[0],I=x[1],$=a.useState(""),v=s($,2),z=v[0],H=v[1],J=a.useState(""),j=s(J,2),K=j[0],O=j[1],Q=a.useState(""),_=s(Q,2),V=_[0],W=_[1],X=a.useState(""),w=s(X,2),Z=w[0],ee=w[1],te=a.useState("Enter the username, email, and password of your choice to sign up."),y=s(te,2),C=y[0],o=y[1],ae=a.useState(""),N=s(ae,2),se=N[0],c=N[1],re=de(),l=ue(function(i){return i.signup}),E=l.signupStatusCode,m=l.signupSuccessMessage,d=l.signupErrorMessage;a.useEffect(function(){if(n!==""&&u!==""&&n===u){var i="You have successfully entered your password twice.";o(i),c("success")}else if(n!==""&&n!==u){var t="You have not entered your password twice.";o(t),c("error")}},[n,u]),a.useEffect(function(){E==201&&setTimeout(function(){window.location.href="/login"},5e3)},[E]),a.useEffect(function(){m&&(c("success"),o(m))},[m]),a.useEffect(function(){d&&(c("error"),o(d))},[d]);var ne={username:M,email:F,password:n,confirmPassword:u,nicename:B,nickname:z,firstname:K,lastname:V,phone:Z,location:"here"},ie=function(){var i=oe(P().mark(function t(q){return P().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:q.preventDefault(),re(ce(ne));case 2:case"end":return p.stop()}},t)}));return function(q){return i.apply(this,arguments)}}(),r=function(t){t.target.name==="user-name"?T(t.target.value):t.target.name==="email"?L(t.target.value):t.target.name==="password"?G(t.target.value):t.target.name==="confirm-password"?Y(t.target.value):t.target.name==="nicename"?I(t.target.value):t.target.name==="nickname"?H(t.target.value):t.target.name==="firstname"?O(t.target.value):t.target.name==="lastname"?W(t.target.value):t.target.name==="phone"&&ee(t.target.value)};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"signup",children:[e.jsx(le,{page:k}),e.jsx("div",{className:"signup card",children:e.jsx("form",{children:e.jsxs("table",{children:[e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{type:"text",name:"username",placeholder:"Username",onChange:r,required:!0}),e.jsx("input",{type:"email",name:"email",placeholder:"Email",onChange:r,required:!0})]})}),e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{type:"password",name:"password",placeholder:"Password",onChange:r,required:!0}),e.jsx("input",{type:"password",name:"confirm-password",placeholder:"Confirm Password",onChange:r,required:!0})]})}),e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{type:"text",name:"nicename",placeholder:"Nice Name (eg. /nicename)",onChange:r,required:!0}),e.jsx("input",{type:"text",name:"nickname",placeholder:"Nickname",onChange:r,required:!0})]})}),e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{type:"text",name:"firstname",placeholder:"First Name",onChange:r,required:!0}),e.jsx("input",{type:"text",name:"lastname",placeholder:"Last Name",onChange:r,required:!0})]})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"text",name:"phone",placeholder:"Phone",onChange:r,required:!0})})})]}),e.jsx("tfoot",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:ie,children:e.jsx("h3",{children:"SIGN UP"})})})})]})})}),C!==""&&e.jsx(me,{messageType:se,message:C})]})})}export{xe as default};
//# sourceMappingURL=Signup.js.map
