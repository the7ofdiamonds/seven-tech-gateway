import{r as s,_ as t,u as de,a as he,b as fe,j as e,c as ge,d as M,s as Se}from"./index.js";import{N as xe}from"./NavigationLoginComponent.js";import{u as ve,S as je}from"./StatusBarComponent.js";function Ce(){var U="signup",L=s.useState(""),x=t(L,2),R=x[0],F=x[1],A=s.useState(""),v=t(A,2),B=v[0],D=v[1],G=s.useState(""),j=t(G,2),o=j[0],Y=j[1],I=s.useState(""),w=t(I,2),c=w[0],$=w[1],z=s.useState(""),_=t(z,2),H=_[0],J=_[1],K=s.useState(""),y=t(K,2),O=y[0],Q=y[1],V=s.useState(""),N=t(V,2),W=N[0],X=N[1],Z=s.useState(""),C=t(Z,2),ee=C[0],ae=C[1],se=s.useState(""),k=t(se,2),te=k[0],ne=k[1],re=s.useState(""),E=t(re,2),ie=E[0],ue=E[1],oe=s.useState("Enter the username, email, and password of your choice to sign up."),T=t(oe,2),b=T[0],d=T[1],ce=s.useState(""),P=t(ce,2),le=P[0],h=P[1],l=ve(),m=de(function(r){return r.signup}),f=m.signupStatusCode,p=m.signupSuccessMessage,g=m.signupErrorMessage,i=m.accessToken,u=m.refreshToken;s.useEffect(function(){if(o!==""&&c!==""&&o===c){var r="You have successfully entered your password twice.";d(r),h("success")}else if(o!==""&&o!==c){var a="You have not entered your password twice.";d(a),h("error")}},[o,c]),s.useEffect(function(){f==200&&p&&i&&u&&(h("success"),d(p))},[f,p,i,u]),s.useEffect(function(){g&&(h("error"),d(g))},[g]),s.useEffect(function(){p!=""&&ue("modal-overlay")},[p]),s.useEffect(function(){i&&u&&(l(he(i)),l(fe(u)))},[l,i,u]),s.useEffect(function(){if(i&&u&&f==200){var r=new URLSearchParams(window.location.search),a=r.get("redirectTo");setTimeout(function(){a==null?window.location.href="/dashboard":window.location.href=a},7e3)}},[l,i,u,f]);var me={username:R,email:B,password:o,confirmPassword:c,nicename:H,nickname:O,firstname:W,lastname:ee,phone:te,location:"here"},pe=function(){var r=ge(M().mark(function a(q){return M().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:q.preventDefault(),l(Se(me));case 2:case"end":return S.stop()}},a)}));return function(q){return r.apply(this,arguments)}}(),n=function(a){a.target.name==="username"?F(a.target.value):a.target.name==="email"?D(a.target.value):a.target.name==="password"?Y(a.target.value):a.target.name==="confirm-password"?$(a.target.value):a.target.name==="nicename"?J(a.target.value):a.target.name==="nickname"?Q(a.target.value):a.target.name==="firstname"?X(a.target.value):a.target.name==="lastname"?ae(a.target.value):a.target.name==="phone"&&ne(a.target.value)};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"signup",children:[e.jsx(xe,{page:U}),e.jsx("div",{className:"signup card",children:e.jsx("form",{children:e.jsxs("table",{children:[e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{className:"input-username",type:"text",name:"username",placeholder:"Username",onChange:n,required:!0}),e.jsx("input",{className:"input-email",type:"email",name:"email",placeholder:"Email",onChange:n,required:!0})]})}),e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{className:"input-password",type:"password",name:"password",placeholder:"Password",onChange:n,required:!0}),e.jsx("input",{className:"input-password",type:"password",name:"confirm-password",placeholder:"Confirm Password",onChange:n,required:!0})]})}),e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{className:"input-name",type:"text",name:"nicename",placeholder:"Nice Name (eg. /nicename)",onChange:n,required:!0}),e.jsx("input",{className:"input-name",type:"text",name:"nickname",placeholder:"Nickname",onChange:n,required:!0})]})}),e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{className:"input-name",type:"text",name:"firstname",placeholder:"First Name",onChange:n,required:!0}),e.jsx("input",{className:"input-name",type:"text",name:"lastname",placeholder:"Last Name",onChange:n,required:!0})]})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{className:"input-phone",type:"tel",name:"phone",placeholder:"Phone",onChange:n,required:!0})})})]}),e.jsx("tfoot",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:pe,id:"signup_btn",children:e.jsx("h3",{children:"SIGN UP"})})})})]})})}),e.jsx("span",{className:ie,children:b!==""&&e.jsx(je,{messageType:le,message:b})})]})})}export{Ce as default};
//# sourceMappingURL=Signup.js.map
