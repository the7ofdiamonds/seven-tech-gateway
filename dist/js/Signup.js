import{r as s,_ as t,u as he,a as ge,b as Se,j as e,c as xe,d as U,s as ve}from"./index.js";import{N as je}from"./NavigationLoginComponent.js";import{u as we,S as _e}from"./StatusBarComponent.js";function Ee(){var L="signup",R=s.useState(""),v=t(R,2),F=v[0],A=v[1],B=s.useState(""),j=t(B,2),D=j[0],G=j[1],Y=s.useState(""),w=t(Y,2),c=w[0],I=w[1],$=s.useState(""),_=t($,2),l=_[0],z=_[1],H=s.useState(""),y=t(H,2),J=y[0],K=y[1],O=s.useState(""),N=t(O,2),Q=N[0],V=N[1],W=s.useState(""),C=t(W,2),X=C[0],Z=C[1],ee=s.useState(""),k=t(ee,2),ae=k[0],se=k[1],te=s.useState(""),E=t(te,2),ne=E[0],re=E[1],ue=s.useState(""),T=t(ue,2),ie=T[0],oe=T[1],ce=s.useState("Enter the username, email, and password of your choice to sign up."),P=t(ce,2),b=P[0],m=P[1],le=s.useState(""),q=t(le,2),me=q[0],p=q[1],d=we(),u=he(function(r){return r.signup}),pe=u.signupStatusCode,f=u.signupSuccessMessage,S=u.signupErrorMessage,h=u.loginSuccessMessage,g=u.loginStatusCode,i=u.accessToken,o=u.refreshToken;s.useEffect(function(){if(c!==""&&l!==""&&c===l){var r="You have successfully entered your password twice.";m(r),p("success")}else if(c!==""&&c!==l){var a="You have not entered your password twice.";m(a),p("error")}},[c,l]),s.useEffect(function(){pe==201&&f&&(p("success"),m(f))},[f]),s.useEffect(function(){g==201&&h&&i&&o&&setTimeout(function(){p("success"),m(h)},3e3)},[g,h,i,o]),s.useEffect(function(){S&&(p("error"),m(S))},[S]),s.useEffect(function(){(f!=""||h!="")&&oe("modal-overlay")},[f,h]),s.useEffect(function(){i&&o&&(d(ge(i)),d(Se(o)))},[d,i,o]),s.useEffect(function(){if(i&&o&&g==200){var r=new URLSearchParams(window.location.search),a=r.get("redirectTo");setTimeout(function(){a==null?window.location.href="/dashboard":window.location.href=a},7e3)}},[d,i,o,g]);var de={username:F,email:D,password:c,confirmPassword:l,nicename:J,nickname:Q,firstname:X,lastname:ae,phone:ne,location:"here"},fe=function(){var r=xe(U().mark(function a(M){return U().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:M.preventDefault(),d(ve(de));case 2:case"end":return x.stop()}},a)}));return function(M){return r.apply(this,arguments)}}(),n=function(a){a.target.name==="username"?A(a.target.value):a.target.name==="email"?G(a.target.value):a.target.name==="password"?I(a.target.value):a.target.name==="confirm-password"?z(a.target.value):a.target.name==="nicename"?K(a.target.value):a.target.name==="nickname"?V(a.target.value):a.target.name==="firstname"?Z(a.target.value):a.target.name==="lastname"?se(a.target.value):a.target.name==="phone"&&re(a.target.value)};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"signup",children:[e.jsx(je,{page:L}),e.jsx("div",{className:"signup card",children:e.jsx("form",{children:e.jsxs("table",{children:[e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{className:"input-username",type:"text",name:"username",placeholder:"Username",onChange:n,required:!0}),e.jsx("input",{className:"input-email",type:"email",name:"email",placeholder:"Email",onChange:n,required:!0})]})}),e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{className:"input-password",type:"password",name:"password",placeholder:"Password",onChange:n,required:!0}),e.jsx("input",{className:"input-password",type:"password",name:"confirm-password",placeholder:"Confirm Password",onChange:n,required:!0})]})}),e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{className:"input-name",type:"text",name:"nicename",placeholder:"Nice Name (eg. /nicename)",onChange:n,required:!0}),e.jsx("input",{className:"input-name",type:"text",name:"nickname",placeholder:"Nickname",onChange:n,required:!0})]})}),e.jsx("tr",{children:e.jsxs("td",{children:[e.jsx("input",{className:"input-name",type:"text",name:"firstname",placeholder:"First Name",onChange:n,required:!0}),e.jsx("input",{className:"input-name",type:"text",name:"lastname",placeholder:"Last Name",onChange:n,required:!0})]})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{className:"input-phone",type:"tel",name:"phone",placeholder:"Phone",onChange:n,required:!0})})})]}),e.jsx("tfoot",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:fe,children:e.jsx("h3",{children:"SIGN UP"})})})})]})})}),e.jsx("span",{className:ie,children:b!==""&&e.jsx(_e,{messageType:me,message:b})})]})})}export{Ee as default};
//# sourceMappingURL=Signup.js.map
