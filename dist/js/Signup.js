import{c as R,_ as q,a as _,g as Y,m as $,r as t,e as i,j as e}from"./index.js";import{N as F}from"./NavigationLogin.js";import{d as y,a as C}from"./DisplayStatus.js";var I=R("signup/signup",function(){var b=q(_().mark(function u(p,o,h){var l,m,f,g,d,r,j;return _().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,l=Y(),s.next=4,$(l,o,h);case 4:return m={user_login:p,user_email:o,user_password:h},s.next=7,fetch("/wp-json/thfw/users/v1/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});case 7:if(response.ok){s.next=13;break}return s.next=10,response.json();case 10:throw f=s.sent,g=f.message,new Error(g);case 13:return s.next=15,response.json();case 15:return d=s.sent,s.abrupt("return",d);case 19:return s.prev=19,s.t0=s.catch(0),r=s.t0.code,j=s.t0.message,s.abrupt("return","Error (".concat(r,"): ").concat(j));case 24:case"end":return s.stop()}},u,null,[[0,19]])}));return function(u,p,o){return b.apply(this,arguments)}}());function B(){var b=t.useState(""),u=i(b,2),p=u[0],o=u[1],h=t.useState(""),l=i(h,2),m=l[0],f=l[1],g=t.useState(""),d=i(g,2),r=d[0],j=d[1],E=t.useState(""),s=i(E,2),w=s[0],A=s[1],M=t.useState("Enter the username, email, and password of your choice to sign up."),T=i(M,2),P=T[0],v=T[1],D=t.useState(""),k=i(D,2),G=k[0],S=k[1];t.useEffect(function(){if(r!==""&&w!==""&&r===w){var c="You have successfully entered your password twice.";v(y(c)),S(C(c))}else if(r!==""&&r!==w){var a="You have not entered your password twice.";v(y(a)),S(C(a))}},[r,w]);var O=function(){var c=q(_().mark(function a(U){return _().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:U.preventDefault(),I(p,m,r).then(function(n){v(y(n)),S(C(n))}).then(function(){setTimeout(function(){window.location.href="/login"},5e3)}).catch(function(n){console.log(n.message),v(y(n.message)),S(C(n.message))});case 2:case"end":return N.stop()}},a)}));return function(U){return c.apply(this,arguments)}}(),x=function(a){a.target.name==="user-name"?o(a.target.value):a.target.name==="email"?f(a.target.value):a.target.name==="password"?j(a.target.value):a.target.name==="confirm-password"&&A(a.target.value)};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"signup",children:[e.jsx(F,{}),e.jsx("div",{className:"login card",children:e.jsx("form",{children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"text",name:"user-name",placeholder:"User Name",onChange:x,required:!0})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"email",name:"email",placeholder:"Email",onChange:x,required:!0})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"password",name:"password",placeholder:"Password",onChange:x,required:!0})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"password",name:"confirm-password",placeholder:"Confirm Password",onChange:x,required:!0})})})]}),e.jsx("tfoot",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:O,children:e.jsx("h3",{children:"SIGN UP"})})})})]})})}),P!==""&&e.jsx("div",{className:"status-bar card ".concat(G),children:e.jsx("span",{children:P})})]})})}export{B as default};
//# sourceMappingURL=Signup.js.map
