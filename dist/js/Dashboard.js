import{u as i,r as t,_ as l,j as e,k as se,m as ze,n as Be,o as He,p as Je,q as Ke,h as Qe,s as We,t as Xe,l as Ye,v as Ze,w as $e}from"./index.js";import ea from"./Login.js";import{u as aa}from"./useDispatch.js";import"./NavigationLogin.js";function oa(){var s=aa(),U=i(function(n){return n.login}),R=U.profileImage,k=U.displayName,ne=R||localStorage.getItem("profile_image"),te=k||localStorage.getItem("display_name"),u=i(function(n){return n.change}),F=u.changeLoading;u.changeError;var m=u.changeSuccessMessage,f=u.changeErrorMessage,T=u.changeStatusCode,h=i(function(n){return n.email}),I=h.emailLoading;h.emailError;var p=h.emailSuccessMessage,v=h.emailErrorMessage,O=h.emailStatusCode,d=i(function(n){return n.password}),q=d.passwordLoading;d.passwordError;var C=d.passwordSuccessMessage,x=d.passwordErrorMessage,G=d.passwordStatusCode,g=i(function(n){return n.logout});g.logoutLoading,g.logoutError;var S=g.logoutSuccessMessage,j=g.logoutErrorMessage,c=i(function(n){return n.account}),V=c.accountLoading;c.accountError;var w=c.accountSuccessMessage,E=c.accountErrorMessage,z=c.accountStatusCode,N=c.email,re=c.username,oe=c.firstname,ce=c.lastname,le=c.phone,ie=t.useState(oe),B=l(ie,2),_=B[0],ue=B[1],he=t.useState(ce),H=l(he,2),P=H[0],de=H[1],ge=t.useState(re),J=l(ge,2),L=J[0],me=J[1],fe=t.useState(""),K=l(fe,2),M=K[0],pe=K[1],ve=t.useState(""),Q=l(ve,2),y=Q[0],Ce=Q[1],xe=t.useState(le),W=l(xe,2),b=W[0],Se=W[1],je=t.useState(""),X=l(je,2),D=X[0],we=X[1],Ee=t.useState(!1),Y=l(Ee,2),Ne=Y[0],_e=Y[1],Pe=t.useState(""),Z=l(Pe,2),Le=Z[0],o=Z[1],Me=t.useState(""),$=l(Me,2),ee=$[0],r=$[1];t.useEffect(function(){(T==403||O==403||G==403||z==403)&&_e(!0)},[s,T,O,G,z]),t.useEffect(function(){F&&r("")},[s,F]),t.useEffect(function(){I&&r("")},[s,I]),t.useEffect(function(){q&&r("")},[s,q]),t.useEffect(function(){V&&r("")},[s,V]),t.useEffect(function(){S&&(o("success"),r(S))},[s,S]),t.useEffect(function(){m&&(o("success"),r(m))},[s,m]),t.useEffect(function(){p&&(o("success"),r(p))},[s,p]),t.useEffect(function(){C&&(o("success"),r(C))},[s,C]),t.useEffect(function(){w&&(o("success"),r(w))},[s,w]),t.useEffect(function(){j&&(o("error"),r(j))},[s,j]),t.useEffect(function(){f&&(o("error"),r(f))},[s,f]),t.useEffect(function(){v&&(o("error"),r(v))},[s,v]),t.useEffect(function(){x&&(o("error"),r(x))},[s,x]),t.useEffect(function(){E&&(o("error"),r(E))},[s,E]);var ye=function(a){a.preventDefault(),a.target.name=="firstname"&&ue(a.target.value)},be=function(a){a.preventDefault(),a.target.name=="lastname"&&de(a.target.value)},De=function(a){a.preventDefault(),(_!==""||P!=="")&&s(ze({firstNameChange:_,lastNameChange:P})).then(function(A){A.payload.statusCode==201&&(s(Be(A.payload.firstname)),s(He(A.payload.lastname)))})},Ae=function(a){a.preventDefault(),a.target.name=="username"&&me(a.target.value)},Ue=function(a){a.preventDefault(),L!=""&&s(Je(L))},ae=function(a){a.preventDefault(),a.target.name=="password"&&pe(a.target.value),a.target.name=="confirmPassword"&&Ce(a.target.value)},Re=function(a){a.preventDefault(),M==y&&s(Ke({password:M,confirmPassword:y}))},ke=function(a){a.preventDefault(),N!=""||localStorage.getItem("email")!=""?s(Qe(N||localStorage.getItem("email"))):(o("error"),r("An email is required to reset password."))},Fe=function(a){a.preventDefault(),a.target.name=="phone"&&Se(a.target.value)},Te=function(a){a.preventDefault(),b!=""&&s(We(b))},Ie=function(a){a.preventDefault(),a.target.name=="email"&&we(a.target.value)},Oe=function(a){a.preventDefault(),D!=""&&s(Xe(D))},qe=function(){s(Ye()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Ge=function(){se!=null&&s(Ze()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Ve=function(){s($e())};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"dashboard",children:[e.jsx("h2",{className:"title",children:"Dashboard"}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("img",{src:"".concat(ne),alt:""})}),e.jsx("span",{children:te})]}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsx("th",{children:e.jsx("h2",{children:"Settings"})})}),e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("form",{action:"",children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"change-name",children:[e.jsx("input",{type:"text",name:"firstname",placeholder:"First Name",value:_,onChange:ye}),e.jsx("input",{type:"text",name:"lastname",placeholder:"Last Name",value:P,onChange:be}),e.jsx("button",{onClick:De,children:e.jsx("h3",{children:"Change Name"})})]}),e.jsx("tr",{}),e.jsxs("tr",{className:"change-username",children:[e.jsx("input",{type:"text",name:"username",placeholder:"Username",value:L,onChange:Ae}),e.jsx("button",{onClick:Ue,children:e.jsx("h3",{children:"Change Username"})})]}),e.jsxs("tr",{className:"change-password",children:[e.jsx("input",{type:"password",name:"password",placeholder:"Password",value:M,onChange:ae}),e.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:y,onChange:ae}),e.jsx("button",{onClick:Re,children:e.jsx("h3",{children:"Change Password"})})]}),e.jsx("tr",{className:"forgot-password",children:e.jsx("button",{onClick:ke,children:e.jsx("h3",{children:"Forgot Password"})})}),e.jsxs("tr",{className:"change-phone",children:[e.jsx("input",{type:"text",name:"phone",placeholder:"Phone Number",value:b,onChange:Fe}),e.jsx("button",{onClick:Te,children:e.jsx("h3",{children:"Change Phone"})})]}),e.jsxs("tr",{className:"remove-email",children:[e.jsx("input",{type:"text",name:"email",placeholder:"Email",value:D,onChange:Ie}),e.jsx("button",{onClick:Oe,children:e.jsx("h3",{children:"Remove Email"})})]})]})]})})})}),e.jsxs("tr",{className:"logout",children:[e.jsx("button",{onClick:qe,children:e.jsx("h3",{children:"LOG OUT"})}),se!=null&&e.jsx("button",{onClick:Ge,children:e.jsx("h3",{children:"LOG OUT ALL"})})]}),e.jsx("tr",{className:"remove-account",children:e.jsx("button",{onClick:Ve,children:e.jsx("h3",{children:"REMOVE ACCOUNT"})})})]}),e.jsx("tfoot",{children:ee!==""&&e.jsx("div",{className:"status-bar card ".concat(Le),children:e.jsx("span",{children:ee})})})]})]}),Ne&&e.jsx(ea,{})]})}export{oa as default};
//# sourceMappingURL=Dashboard.js.map
