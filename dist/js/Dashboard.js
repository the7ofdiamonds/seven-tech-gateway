import{u as M,r as a,g as W,_ as c,j as e,f as ge,h as pe,i as Se,k as ve,m as xe,n as je,l as Ce,o as _e,p as Ne,q as we}from"./index.js";import ye from"./Login.js";import{u as P,S as U}from"./StatusBarComponent.js";import"./NavigationLoginComponent.js";function Ee(){var t=P(),n=M(function(b){return b.account}),d=n.accountLoading;n.accountError;var o=n.accountSuccessMessage,S=n.accountErrorMessage,l=n.accountStatusCode,r=n.email;a.useEffect(function(){t(W())},[t]),a.useEffect(function(){d&&i("")},[t,d]),a.useEffect(function(){o&&(h("success"),i(o))},[t,o]),a.useEffect(function(){S&&l!=403&&(h("error"),i(S))},[t,S]),a.useEffect(function(){l!=403&&g!=""&&(u("modal-overlay"),setTimeout(function(){u("")},3e3))},[t,l,g]),a.useEffect(function(){l==200&&setTimeout(function(){window.location.href="/"},5e3)},[l]);var v=a.useState(""),x=c(v,2),m=x[0],u=x[1],f=a.useState(""),w=c(f,2),j=w[0],h=w[1],C=a.useState(""),_=c(C,2),g=_[0],i=_[1],k=function(){r!=""||localStorage.getItem("email")!=""?t(ge(r||localStorage.getItem("email"))):(h("error"),i("An email is required to lock your account."))};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"account",children:[e.jsx("span",{className:"lock-account",children:e.jsx("button",{onClick:k,id:"lock_account_btn",children:e.jsx("h3",{children:"LOCK ACCOUNT"})})}),e.jsx("span",{className:m,children:g!=""&&e.jsx(U,{messageType:j,message:g})})]})})}function ke(){var t=P(),n=M(function(N){return N.user}),d=n.userLoading;n.userError;var o=n.userSuccessMessage,S=n.userErrorMessage,l=n.userStatusCode,r=n.username,v=n.firstname,x=n.lastname,m=n.nickname,u=n.nicename,f=n.phone;a.useEffect(function(){t(W())},[t]),a.useEffect(function(){r&&C(r),v&&k(v),x&&p(x),m&&E(m),u&&R(u),f&&V(f)},[r,i,x,m,u,f]),a.useEffect(function(){d&&O("")},[t,d]),a.useEffect(function(){o&&(J("success"),O(o))},[t,o]),a.useEffect(function(){S&&l!=403&&(J("error"),O(S))},[t,S]),a.useEffect(function(){l!=403&&A!=""&&(z("modal-overlay"),setTimeout(function(){z("")},3e3))},[t,l,A]);var w=a.useState(r),j=c(w,2),h=j[0],C=j[1],_=a.useState(v),g=c(_,2),i=g[0],k=g[1],b=a.useState(x),T=c(b,2),y=T[0],p=T[1],F=a.useState(m),D=c(F,2),L=D[0],E=D[1],X=a.useState(u),G=c(X,2),I=G[0],R=G[1],Z=a.useState(f),K=c(Z,2),B=K[0],V=K[1],$=a.useState(""),Y=c($,2),ee=Y[0],z=Y[1],ae=a.useState(""),H=c(ae,2),se=H[0],J=H[1],te=a.useState(""),Q=c(te,2),A=Q[0],O=Q[1],ne=function(s){s.preventDefault(),s.target.name=="username"&&C(s.target.value)},re=function(s){s.preventDefault(),h!=""&&t(pe(h))},ce=function(s){s.preventDefault(),s.target.name=="firstname"&&k(s.target.value)},oe=function(s){s.preventDefault(),s.target.name=="lastname"&&p(s.target.value)},ue=function(s){s.preventDefault(),(i!==""||y!=="")&&t(Se({firstName:i,lastName:y})).then(function(q){q.payload.statusCode==201&&(t(updateAccountFirstName(q.payload.firstname)),t(updateAccountLastName(q.payload.lastname)))})},ie=function(s){s.preventDefault(),s.target.name=="nickname"&&E(s.target.value)},le=function(s){s.preventDefault(),L!=""&&t(ve(L))},de=function(s){s.preventDefault(),s.target.name=="nicename"&&R(s.target.value)},he=function(s){s.preventDefault(),I!=""&&t(xe(I))},me=function(s){s.preventDefault(),s.target.name=="phone"&&V(s.target.value)},fe=function(s){s.preventDefault(),B!=""&&t(je(B))};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"change",children:[e.jsxs("span",{className:"change-username",children:[e.jsx("input",{className:"input-username",type:"text",name:"username",placeholder:"Username",value:h,onChange:ne}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:re,id:"change_username_btn",children:e.jsx("h3",{children:"Change Username"})})})]}),e.jsxs("span",{className:"change-name",children:[e.jsx("input",{className:"input-name",type:"text",name:"firstname",placeholder:"First Name",value:i,onChange:ce}),e.jsx("input",{className:"input-name",type:"text",name:"lastname",placeholder:"Last Name",value:y,onChange:oe}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:ue,id:"change_name_btn",children:e.jsx("h3",{children:"Change Name"})})})]}),e.jsxs("span",{className:"change-nickname",children:[e.jsx("input",{className:"input-name",type:"text",name:"nickname",placeholder:"Nickname",value:L,onChange:ie}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:le,id:"change_nickname_btn",children:e.jsx("h3",{children:"Change Nickname"})})})]}),e.jsxs("span",{className:"change-nicename",children:[e.jsx("input",{className:"input-name",type:"text",name:"nicename",placeholder:"Nicename",value:I,onChange:de}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:he,id:"change_nicename_btn",children:e.jsx("h3",{children:"Change Nicename"})})})]}),e.jsxs("span",{className:"change-phone",children:[e.jsx("input",{className:"input-phone",type:"text",name:"phone",placeholder:"Phone Number",value:B,onChange:me}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:fe,id:"change_phone_btn",children:e.jsx("h3",{children:"Change Phone"})})})]}),e.jsx("span",{className:ee,children:A!=""&&e.jsx(U,{messageType:se,message:A})})]})})}function be(){var t=P(),n=M(function(i){return i.logout});n.logoutLoading,n.logoutError;var d=n.logoutSuccessMessage,o=n.logoutErrorMessage;a.useEffect(function(){d&&(f("success"),C(d))},[t,d]),a.useEffect(function(){o&&(f("error"),C(o))},[t,o]),a.useEffect(function(){o&&(f("error"),C(o))},[t,o]),a.useEffect(function(){h!=""&&(v("modal-overlay"),setTimeout(function(){v("")},3e3))},[t,h]);var S=a.useState(""),l=c(S,2),r=l[0],v=l[1],x=a.useState(""),m=c(x,2),u=m[0],f=m[1],w=a.useState(""),j=c(w,2),h=j[0],C=j[1],_=function(){t(Ce()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},g=function(){t(_e()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"auth",children:[e.jsxs("span",{className:"logout",children:[e.jsx("button",{onClick:_,id:"logout_btn",children:e.jsx("h3",{children:"LOG OUT"})}),e.jsx("button",{onClick:g,id:"logout_all_btn",children:e.jsx("h3",{children:"LOG OUT ALL"})})]}),e.jsx("span",{className:r,children:h!=""&&e.jsx(U,{messageType:u,message:h})})]})})}function Me(){var t=P(),n=M(function(L){return L.password}),d=n.passwordSuccessMessage,o=n.passwordErrorMessage;n.passwordStatusCode;var S=a.useState(""),l=c(S,2),r=l[0],v=l[1],x=a.useState(""),m=c(x,2),u=m[0],f=m[1],w=a.useState(!1),j=c(w,2),h=j[0];j[1];var C=a.useState("Enter your preferred password twice."),_=c(C,2),g=_[0],i=_[1],k=a.useState(""),b=c(k,2),T=b[0],y=b[1];a.useEffect(function(){r!=""&&u!=""&&r===u&&(i("You have entered your password twice."),y("success"))},[r,u]),a.useEffect(function(){r!=""&&u!=""&&r!=u&&(i("Passwords do not match."),y("error"))},[r,u]),a.useEffect(function(){d&&(i(d),y("success"))},[d]),a.useEffect(function(){o&&(i(o),y("error"))},[o]);var p=function(E){E.target.name=="password"&&v(E.target.value)},F=function(E){E.target.name=="confirmPassword"&&f(E.target.value)},D=function(E){E.preventDefault(),Ne(r)&&r===u&&t(we({password:r,confirmPassword:u}))};return e.jsx(e.Fragment,{children:e.jsx("main",{children:e.jsx("form",{action:"",children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"password",name:"password",placeholder:"Password",onChange:p,required:!0})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"password",name:"confirm-password",placeholder:"Confirm Password",onChange:F,required:!0})})})]}),e.jsxs("tfoot",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:D,id:"change_password_btn",children:e.jsx("h3",{children:"CONFIRM"})})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("span",{className:h,children:g!=""&&e.jsx(U,{messageType:T,message:g})})})})]})]})})})})}function Ae(){var t=P(),n=M(function(p){return p.login}),d=n.profileImage,o=n.displayName,S=d||localStorage.getItem("profile_image"),l=o||localStorage.getItem("display_name"),r=M(function(p){return p.user}),v=r.changeStatusCode,x=M(function(p){return p.password}),m=x.passwordStatusCode,u=M(function(p){return p.login}),f=u.loginStatusCode,w=M(function(p){return p.account}),j=w.accountStatusCode,h=a.useState(""),C=c(h,2),_=C[0],g=C[1],i=a.useState(!1),k=c(i,2),b=k[0],T=k[1];a.useEffect(function(){f==200&&T(!1)},[f]),a.useEffect(function(){(v==403||m==403||j==403)&&T(!0)},[t,v,m,j]);var y=function(){_==!1&&g(!0),_==!0&&g(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"title",children:"Dashboard"}),e.jsxs("div",{className:"header",children:[e.jsx("div",{className:"profile-image",children:e.jsx("img",{src:"".concat(S),alt:""})}),e.jsx("h2",{className:"display-name",children:l}),e.jsx("div",{className:"action options",children:e.jsxs("button",{className:"settings-button",onClick:y,id:"settings_btn",children:[e.jsx("i",{class:"fa-solid fa-gears"}),e.jsx("h3",{children:"SETTINGS"})]})})]}),_&&e.jsx(ke,{}),e.jsx(Me,{}),e.jsx(be,{}),e.jsx(Ee,{}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsx("main",{className:"login",children:e.jsx(ye,{})})})]})}export{Ae as default};
//# sourceMappingURL=Dashboard.js.map
