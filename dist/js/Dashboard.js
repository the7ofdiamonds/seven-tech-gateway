import{u as l,r as s,_ as i,j as e,d as ee,e as Te,f as ke,g as Ie,c as Oe,h as Re,l as Be,i as Ge,k as qe}from"./index.js";import Ve from"./Login.js";import{u as ae,S as We}from"./StatusBarComponent.js";import"./NavigationLoginComponent.js";function ze(){var t=ae(),d=l(function(n){return n.change}),_=d.changeLoading;d.changeError;var p=d.changeSuccessMessage,E=d.changeErrorMessage,P=d.changeStatusCode,f=l(function(n){return n.email}),L=f.emailLoading;f.emailError;var M=f.emailSuccessMessage,S=f.emailErrorMessage,y=f.emailStatusCode,g=l(function(n){return n.password}),b=g.passwordLoading;g.passwordError;var v=g.passwordSuccessMessage,A=g.passwordErrorMessage,C=g.passwordStatusCode,x=l(function(n){return n.logout});x.logoutLoading,x.logoutError;var j=x.logoutSuccessMessage,h=x.logoutErrorMessage,c=l(function(n){return n.account}),U=c.accountLoading;c.accountError;var w=c.accountSuccessMessage,D=c.accountErrorMessage,N=c.accountStatusCode,m=c.email,r=c.username,se=c.firstname,te=c.lastname,ne=c.phone,re=s.useState(se),q=i(re,2),I=q[0],oe=q[1],ce=s.useState(te),V=i(ce,2),O=V[0],ue=V[1],ie=s.useState(r),W=i(ie,2),R=W[0],le=W[1],he=s.useState(""),z=i(he,2),F=z[0],de=z[1],ge=s.useState(""),H=i(ge,2),T=H[0],me=H[1],fe=s.useState(ne),J=i(fe,2),B=J[0],pe=J[1],Se=s.useState(""),K=i(Se,2);K[0],K[1];var ve=s.useState(""),Q=i(ve,2),Ce=Q[0],X=Q[1],xe=s.useState(""),Y=i(xe,2),je=Y[0],u=Y[1],we=s.useState(""),Z=i(we,2),k=Z[0],o=Z[1];s.useEffect(function(){(U||_||L||b)&&o("")},[t,U,_,L,b]),s.useEffect(function(){j&&(u("success"),o(j))},[t,j]),s.useEffect(function(){p&&(u("success"),o(p))},[t,p]),s.useEffect(function(){M&&(u("success"),o(M))},[t,M]),s.useEffect(function(){v&&(u("success"),o(v))},[t,v]),s.useEffect(function(){w&&(u("success"),o(w))},[t,w]),s.useEffect(function(){h&&(u("error"),o(h))},[t,h]),s.useEffect(function(){h&&(u("error"),o(h))},[t,h]),s.useEffect(function(){E&&P!=403&&(u("error"),o(E))},[t,E]),s.useEffect(function(){S&&y!=403&&(u("error"),o(S))},[t,S]),s.useEffect(function(){A&&C!=403&&(u("error"),o(A))},[t,A]),s.useEffect(function(){D&&N!=403&&(u("error"),o(D))},[t,D]),s.useEffect(function(){(P!=403||y!=403||C!=403||N!=403)&&k!=""&&(X("modal-overlay"),setTimeout(function(){X("")},3e3))},[t,P,y,C,N,k]);var Ne=function(a){a.preventDefault(),a.target.name=="firstname"&&oe(a.target.value)},_e=function(a){a.preventDefault(),a.target.name=="lastname"&&ue(a.target.value)},Ee=function(a){a.preventDefault(),(I!==""||O!=="")&&t(Te({firstName:I,lastName:O})).then(function(G){G.payload.statusCode==201&&(t(updateAccountFirstName(G.payload.firstname)),t(updateAccountLastName(G.payload.lastname)))})},Pe=function(a){a.preventDefault(),a.target.name=="username"&&le(a.target.value)},Le=function(a){a.preventDefault(),R!=""&&t(ke(R))},$=function(a){a.preventDefault(),a.target.name=="password"&&de(a.target.value),a.target.name=="confirmPassword"&&me(a.target.value)},Me=function(a){a.preventDefault(),F==T&&F!=""&&T!=""&&t(Ie({password:F,confirmPassword:T}))},ye=function(a){a.preventDefault(),m!=""||localStorage.getItem("email")!=""?t(Oe(m||localStorage.getItem("email"))):(u("error"),o("An email is required to reset password."))},Ae=function(a){a.preventDefault(),a.target.name=="phone"&&pe(a.target.value)},De=function(a){a.preventDefault(),B!=""&&t(Re(B))},be=function(){t(Be()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Ue=function(){ee!=null&&t(Ge()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Fe=function(){m!=""||localStorage.getItem("email")!=""?t(qe(m||localStorage.getItem("email"))):(u("error"),o("An email is required to remove your account."))};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"settings",children:[e.jsx("h2",{children:"Settings"}),e.jsxs("span",{className:"change-name",children:[e.jsx("input",{className:"input-name",type:"text",name:"firstname",placeholder:"First Name",value:I,onChange:Ne}),e.jsx("input",{className:"input-name",type:"text",name:"lastname",placeholder:"Last Name",value:O,onChange:_e}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:Ee,children:e.jsx("h3",{children:"Change Name"})})})]}),e.jsxs("span",{className:"change-username",children:[e.jsx("input",{className:"input-username",type:"text",name:"username",placeholder:"Username",value:R,onChange:Pe}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:Le,children:e.jsx("h3",{children:"Change Username"})})})]}),e.jsxs("span",{className:"change-phone",children:[e.jsx("input",{className:"input-phone",type:"text",name:"phone",placeholder:"Phone Number",value:B,onChange:Ae}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:De,children:e.jsx("h3",{children:"Change Phone"})})})]}),e.jsxs("span",{className:"change-password",children:[e.jsx("input",{className:"input-password",type:"password",name:"password",placeholder:"Password",value:F,onChange:$}),e.jsx("input",{className:"input-password",type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:T,onChange:$}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:Me,children:e.jsx("h3",{children:"Change Password"})})})]}),e.jsx("span",{className:"forgot-password",children:e.jsx("button",{onClick:ye,children:e.jsx("h3",{children:"FORGOT PASSWORD"})})}),e.jsxs("span",{className:"logout",children:[e.jsx("button",{onClick:be,children:e.jsx("h3",{children:"LOG OUT"})}),ee!=null&&e.jsx("button",{onClick:Ue,children:e.jsx("h3",{children:"LOG OUT ALL"})})]}),e.jsx("span",{className:"remove-account",children:e.jsx("button",{onClick:Fe,children:e.jsx("h3",{children:"REMOVE ACCOUNT"})})}),e.jsx("span",{className:Ce,children:k!=""&&e.jsx(We,{messageType:je,message:k})})]})})}function Xe(){var t=ae(),d=l(function(r){return r.login}),_=d.profileImage,p=d.displayName,E=_||localStorage.getItem("profile_image"),P=p||localStorage.getItem("display_name"),f=l(function(r){return r.change}),L=f.changeStatusCode,M=l(function(r){return r.email}),S=M.emailStatusCode,y=l(function(r){return r.password}),g=y.passwordStatusCode,b=l(function(r){return r.login}),v=b.loginStatusCode,A=l(function(r){return r.account}),C=A.accountStatusCode,x=s.useState(""),j=i(x,2),h=j[0],c=j[1],U=s.useState(!1),w=i(U,2),D=w[0],N=w[1];s.useEffect(function(){v==200&&N(!1)},[v]),s.useEffect(function(){(L==403||S==403||g==403||C==403)&&N(!0)},[t,L,S,g,C]);var m=function(){h==!1&&c(!0),h==!0&&c(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"title",children:"Dashboard"}),e.jsxs("div",{className:"header",children:[e.jsx("div",{className:"profile-image",children:e.jsx("img",{src:"".concat(E),alt:""})}),e.jsx("h2",{className:"display-name",children:P}),e.jsx("div",{className:"options",children:e.jsx("button",{className:"settings-button",onClick:m,children:e.jsx("i",{class:"fa-solid fa-gears"})})})]}),h&&e.jsx(ze,{}),D&&e.jsx("div",{className:"modal-overlay",children:e.jsx("main",{className:"login",children:e.jsx(Ve,{})})})]})}export{Xe as default};
//# sourceMappingURL=Dashboard.js.map
