import{u as l,r as t,g as We,f as Xe,_ as i,j as e,h as Se,i as Ye,k as Ze,m as $e,n as ea,o as aa,p as sa,l as ta,q as na,t as ra}from"./index.js";import oa from"./Login.js";import{u as ve,S as ca}from"./StatusBarComponent.js";import"./NavigationLoginComponent.js";function ia(){var n=ve(),f=l(function(s){return s.password}),_=f.passwordLoading;f.passwordError;var x=f.passwordSuccessMessage,E=f.passwordErrorMessage,k=f.passwordStatusCode,o=l(function(s){return s.user}),y=o.userLoading;o.userError;var L=o.userSuccessMessage,C=o.userErrorMessage,M=o.userStatusCode,g=o.username,P=o.firstname,p=o.lastname,S=o.nickname,h=o.nicename,U=o.roles,v=o.phone,d=l(function(s){return s.email}),A=d.emailLoading;d.emailError;var D=d.emailSuccessMessage,N=d.emailErrorMessage,b=d.emailStatusCode,m=l(function(s){return s.role});m.roleLoading,m.roleError,m.roleSuccessMessage,m.roleErrorMessage,m.roleStatusCode;var T=m.availableRoles,r=l(function(s){return s.logout});r.logoutLoading,r.logoutError;var q=r.logoutSuccessMessage,j=r.logoutErrorMessage,w=l(function(s){return s.account}),W=w.accountLoading;w.accountError;var G=w.accountSuccessMessage,K=w.accountErrorMessage,z=w.accountStatusCode,F=w.email;t.useEffect(function(){n(We(F))},[]),t.useEffect(function(){g&&$(g),P&&ae(P),p&&te(p),S&&oe(S),h&&ue(h),v&&de(v)},[g,B,p,S,h,v]),t.useEffect(function(){n(Xe())},[]),t.useEffect(function(){(W||y||A||_)&&c("")},[n,W,y,A,_]),t.useEffect(function(){q&&(u("success"),c(q))},[n,q]),t.useEffect(function(){L&&(u("success"),c(L))},[n,L]),t.useEffect(function(){D&&(u("success"),c(D))},[n,D]),t.useEffect(function(){x&&(u("success"),c(x))},[n,x]),t.useEffect(function(){G&&(u("success"),c(G))},[n,G]),t.useEffect(function(){j&&(u("error"),c(j))},[n,j]),t.useEffect(function(){j&&(u("error"),c(j))},[n,j]),t.useEffect(function(){C&&M!=403&&(u("error"),c(C))},[n,C]),t.useEffect(function(){N&&b!=403&&(u("error"),c(N))},[n,N]),t.useEffect(function(){E&&k!=403&&(u("error"),c(E))},[n,E]),t.useEffect(function(){K&&z!=403&&(u("error"),c(K))},[n,K]),t.useEffect(function(){(M!=403||b!=403||k!=403||z!=403)&&R!=""&&(fe("modal-overlay"),setTimeout(function(){fe("")},3e3))},[n,M,b,k,z,R]);var xe=t.useState(""),X=i(xe,2),I=X[0],Ce=X[1],Ne=t.useState(""),Y=i(Ne,2),O=Y[0],je=Y[1],we=t.useState(g),Z=i(we,2),H=Z[0],$=Z[1],_e=t.useState(P),ee=i(_e,2),B=ee[0],ae=ee[1],Ee=t.useState(p),se=i(Ee,2),J=se[0],te=se[1],ke=t.useState(S),ne=i(ke,2),re=ne[0],oe=ne[1],ye=t.useState(h),ce=i(ye,2),ie=ce[0],ue=ce[1],Le=t.useState(v),le=i(Le,2),Q=le[0],de=le[1],Me=t.useState(""),me=i(Me,2),Pe=me[0],fe=me[1],Ae=t.useState(""),he=i(Ae,2),De=he[0],u=he[1],be=t.useState(""),ge=i(be,2),R=ge[0],c=ge[1],pe=function(a){a.preventDefault(),a.target.name=="password"&&Ce(a.target.value),a.target.name=="confirmPassword"&&je(a.target.value)},Ue=function(a){a.preventDefault(),I==O&&I!=""&&O!=""&&n(Ye({password:I,confirmPassword:O}))},Te=function(a){a.preventDefault(),a.target.name=="username"&&$(a.target.value)},Fe=function(a){a.preventDefault(),H!=""&&n(Ze(H))},Ie=function(a){a.preventDefault(),a.target.name=="firstname"&&ae(a.target.value)},Oe=function(a){a.preventDefault(),a.target.name=="lastname"&&te(a.target.value)},Be=function(a){a.preventDefault(),(B!==""||J!=="")&&n($e({firstName:B,lastName:J})).then(function(V){V.payload.statusCode==201&&(n(updateAccountFirstName(V.payload.firstname)),n(updateAccountLastName(V.payload.lastname)))})},Re=function(a){a.preventDefault(),a.target.name=="nickname"&&oe(a.target.value)},qe=function(a){a.preventDefault(),re!=""&&n(ea(re))},Ge=function(a){a.preventDefault(),a.target.name=="nicename"&&ue(a.target.value)},Ke=function(a){a.preventDefault(),ie!=""&&n(aa(ie))},ze=function(a){a.preventDefault(),a.target.name=="phone"&&de(a.target.value)},He=function(a){a.preventDefault(),Q!=""&&n(sa(Q))},Je=function(){n(ta()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Qe=function(){Se!=null&&n(na()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Ve=function(){F!=""||localStorage.getItem("email")!=""?n(ra(F||localStorage.getItem("email"))):(u("error"),c("An email is required to lock your account."))};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"settings",children:[e.jsx("h2",{children:"Settings"}),e.jsxs("span",{className:"change-password",children:[e.jsx("input",{className:"input-password",type:"password",name:"password",placeholder:"Password",value:I,onChange:pe}),e.jsx("input",{className:"input-password",type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:O,onChange:pe}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:Ue,children:e.jsx("h3",{children:"Change Password"})})})]}),e.jsxs("span",{className:"change-username",children:[e.jsx("input",{className:"input-username",type:"text",name:"username",placeholder:"Username",value:H,onChange:Te}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:Fe,children:e.jsx("h3",{children:"Change Username"})})})]}),e.jsxs("span",{className:"change-name",children:[e.jsx("input",{className:"input-name",type:"text",name:"firstname",placeholder:"First Name",value:B,onChange:Ie}),e.jsx("input",{className:"input-name",type:"text",name:"lastname",placeholder:"Last Name",value:J,onChange:Oe}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:Be,children:e.jsx("h3",{children:"Change Name"})})})]}),e.jsxs("span",{className:"change-nickname",children:[e.jsx("input",{className:"input-name",type:"text",name:"nickname",placeholder:"Nickname",value:S,onChange:Re}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:qe,children:e.jsx("h3",{children:"Change Nickname"})})})]}),e.jsxs("span",{className:"change-nicename",children:[e.jsx("input",{className:"input-name",type:"text",name:"nicename",placeholder:"Nicename",value:h,onChange:Ge}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:Ke,children:e.jsx("h3",{children:"Change Nicename"})})})]}),Array.isArray(T)&&e.jsx("span",{className:"add-role",children:e.jsx("select",{name:"add_role",id:"add_role",children:T.map(function(s){return e.jsx("option",{value:s.name,children:s.display_name})})})}),Array.isArray(U)&&e.jsx("span",{className:"remove-role",children:e.jsx("select",{name:"remove_role",id:"remove_role",children:U.map(function(s){return e.jsx("option",{value:s.name,children:s.display_name})})})}),e.jsxs("span",{className:"change-phone",children:[e.jsx("input",{className:"input-phone",type:"text",name:"phone",placeholder:"Phone Number",value:Q,onChange:ze}),e.jsx("div",{className:"action",children:e.jsx("button",{onClick:He,children:e.jsx("h3",{children:"Change Phone"})})})]}),e.jsxs("span",{className:"logout",children:[e.jsx("button",{onClick:Je,children:e.jsx("h3",{children:"LOG OUT"})}),Se!=null&&e.jsx("button",{onClick:Qe,children:e.jsx("h3",{children:"LOG OUT ALL"})})]}),e.jsx("span",{className:"lock-account",children:e.jsx("button",{onClick:Ve,children:e.jsx("h3",{children:"LOCK ACCOUNT"})})}),e.jsx("span",{className:Pe,children:R!=""&&e.jsx(ca,{messageType:De,message:R})})]})})}function fa(){var n=ve(),f=l(function(r){return r.login}),_=f.profileImage,x=f.displayName,E=_||localStorage.getItem("profile_image"),k=x||localStorage.getItem("display_name"),o=l(function(r){return r.user}),y=o.changeStatusCode,L=l(function(r){return r.email}),C=L.emailStatusCode,M=l(function(r){return r.password}),g=M.passwordStatusCode,P=l(function(r){return r.login}),p=P.loginStatusCode,S=l(function(r){return r.account}),h=S.accountStatusCode,U=t.useState(""),v=i(U,2),d=v[0],A=v[1],D=t.useState(!1),N=i(D,2),b=N[0],m=N[1];t.useEffect(function(){p==200&&m(!1)},[p]),t.useEffect(function(){(y==403||C==403||g==403||h==403)&&m(!0)},[n,y,C,g,h]);var T=function(){d==!1&&A(!0),d==!0&&A(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"title",children:"Dashboard"}),e.jsxs("div",{className:"header",children:[e.jsx("div",{className:"profile-image",children:e.jsx("img",{src:"".concat(E),alt:""})}),e.jsx("h2",{className:"display-name",children:k}),e.jsx("div",{className:"options",children:e.jsx("button",{className:"settings-button",onClick:T,children:e.jsx("i",{class:"fa-solid fa-gears"})})})]}),d&&e.jsx(ia,{}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsx("main",{className:"login",children:e.jsx(oa,{})})})]})}export{fa as default};
//# sourceMappingURL=Dashboard.js.map
