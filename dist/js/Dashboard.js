import{u as i,r as t,_ as l,j as e,k as Y,m as ke,n as Fe,o as Te,p as Ie,q as Oe,h as qe,s as Ge,t as Ve,l as ze,v as Be,w as He}from"./index.js";import"./Login.js";import{u as Je}from"./useDispatch.js";import"./NavigationLogin.js";function Ye(){var n=Je(),A=i(function(s){return s.login}),U=A.profileImage,R=A.displayName,Z=U||localStorage.getItem("profile_image"),$=R||localStorage.getItem("display_name"),u=i(function(s){return s.change}),k=u.changeLoading;u.changeError;var v=u.changeSuccessMessage,p=u.changeErrorMessage,h=i(function(s){return s.email}),F=h.emailLoading;h.emailError;var x=h.emailSuccessMessage,C=h.emailErrorMessage,d=i(function(s){return s.password}),T=d.passwordLoading;d.passwordError;var j=d.passwordSuccessMessage,S=d.passwordErrorMessage,g=i(function(s){return s.logout});g.logoutLoading,g.logoutError;var w=g.logoutSuccessMessage,E=g.logoutErrorMessage,c=i(function(s){return s.account}),I=c.accountLoading;c.accountError;var N=c.accountSuccessMessage,_=c.accountErrorMessage,P=c.email,ee=c.username,ae=c.firstname,se=c.lastname,ne=c.phone,te=t.useState(ae),O=l(te,2),M=O[0],re=O[1],oe=t.useState(se),q=l(oe,2),L=q[0],ce=q[1],le=t.useState(ee),G=l(le,2),b=G[0],ie=G[1],ue=t.useState(""),V=l(ue,2),y=V[0],he=V[1],de=t.useState(""),z=l(de,2),D=z[0],ge=z[1],me=t.useState(ne),B=l(me,2),m=B[0],fe=B[1],ve=t.useState(""),H=l(ve,2),f=H[0],pe=H[1],xe=t.useState(""),J=l(xe,2),Ce=J[0],o=J[1],je=t.useState(""),K=l(je,2),Q=K[0],r=K[1];t.useEffect(function(){k&&r("")},[n,k]),t.useEffect(function(){F&&r("")},[n,F]),t.useEffect(function(){T&&r("")},[n,T]),t.useEffect(function(){I&&r("")},[n,I]),t.useEffect(function(){w&&(o("success"),r(w))},[n,w]),t.useEffect(function(){v&&(o("success"),r(v))},[n,v]),t.useEffect(function(){x&&(o("success"),r(x))},[n,x]),t.useEffect(function(){j&&(o("success"),r(j))},[n,j]),t.useEffect(function(){N&&(o("success"),r(N))},[n,N]),t.useEffect(function(){E&&(o("error"),r(E))},[n,E]),t.useEffect(function(){p&&(o("error"),r(p))},[n,p]),t.useEffect(function(){C&&(o("error"),r(C))},[n,C]),t.useEffect(function(){S&&(o("error"),r(S))},[n,S]),t.useEffect(function(){_&&(o("error"),r(_))},[n,_]);var Se=function(a){a.preventDefault(),a.target.name=="firstname"&&re(a.target.value)},we=function(a){a.preventDefault(),a.target.name=="lastname"&&ce(a.target.value)},Ee=function(a){a.preventDefault(),(M!=""||L!="")&&n(ke({firstNameChange:M,lastNameChange:L})).then(function(X){n(Fe(X.payload.firstname)),n(Te(X.payload.lastname))})},Ne=function(a){a.preventDefault(),ie(b)},_e=function(a){a.preventDefault(),n(Ie(b))},W=function(a){a.preventDefault(),a.target.name=="password"&&he(a.target.value),a.target.name=="confirmPassword"&&ge(a.target.value)},Pe=function(a){a.preventDefault(),y==D&&n(Oe({password:y,confirmPassword:D}))},Me=function(a){a.preventDefault(),P!=""||localStorage.getItem("email")!=""?n(qe(P||localStorage.getItem("email"))):(o("error"),r("An email is required to reset password."))},Le=function(a){a.preventDefault(),a.target.name=="phone"&&fe(a.target.value)},be=function(a){a.preventDefault(),(m!="confirmPassword"||m!=null)&&n(Ge(m))},ye=function(a){a.preventDefault(),a.target.name=="email"&&pe(a.target.value)},De=function(a){a.preventDefault(),(f!=""||f!=null)&&n(Ve(f))},Ae=function(){n(ze()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Ue=function(){Y!=null&&n(Be()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Re=function(){n(He())};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"dashboard",children:[e.jsx("h2",{className:"title",children:"Dashboard"}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("img",{src:"".concat(Z),alt:""})}),e.jsx("span",{children:$})]}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsx("th",{children:e.jsx("h2",{children:"Settings"})})}),e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("form",{action:"",children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"change-name",children:[e.jsx("input",{type:"text",name:"firstname",placeholder:"First Name",value:M,onChange:Se}),e.jsx("input",{type:"text",name:"lastname",placeholder:"Last Name",value:L,onChange:we}),e.jsx("button",{onClick:Ee,children:e.jsx("h3",{children:"Change Name"})})]}),e.jsx("tr",{}),e.jsxs("tr",{className:"change-username",children:[e.jsx("input",{type:"text",name:"username",placeholder:"Username",value:b,onChange:Ne}),e.jsx("button",{onClick:_e,children:e.jsx("h3",{children:"Change Username"})})]}),e.jsxs("tr",{className:"change-password",children:[e.jsx("input",{type:"password",name:"password",placeholder:"Password",value:y,onChange:W}),e.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:D,onChange:W}),e.jsx("button",{onClick:Pe,children:e.jsx("h3",{children:"Change Password"})})]}),e.jsx("tr",{className:"forgot-password",children:e.jsx("button",{onClick:Me,children:e.jsx("h3",{children:"Forgot Password"})})}),e.jsxs("tr",{className:"change-phone",children:[e.jsx("input",{type:"text",name:"phone",placeholder:"Phone Number",value:m,onChange:Le}),e.jsx("button",{onClick:be,children:e.jsx("h3",{children:"Change Phone"})})]}),e.jsxs("tr",{className:"remove-email",children:[e.jsx("input",{type:"text",name:"email",placeholder:"Email",value:f,onChange:ye}),e.jsx("button",{onClick:De,children:e.jsx("h3",{children:"Remove Email"})})]})]})]})})})}),e.jsxs("tr",{className:"logout",children:[e.jsx("button",{onClick:Ae,children:e.jsx("h3",{children:"LOG OUT"})}),Y!=null&&e.jsx("button",{onClick:Ue,children:e.jsx("h3",{children:"LOG OUT ALL"})})]}),e.jsx("tr",{className:"remove-account",children:e.jsx("button",{onClick:Re,children:e.jsx("h3",{children:"REMOVE ACCOUNT"})})})]}),e.jsx("tfoot",{children:Q!==""&&e.jsx("div",{className:"status-bar card ".concat(Ce),children:e.jsx("span",{children:Q})})})]})]})})}export{Ye as default};
//# sourceMappingURL=Dashboard.js.map
