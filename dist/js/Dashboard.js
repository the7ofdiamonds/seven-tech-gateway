import{u as i,r as t,_ as l,j as e,k as se,m as Ve,n as ze,o as Be,p as He,q as Je,h as Ke,s as Qe,t as We,l as Xe,v as Ye,w as Ze}from"./index.js";import $e from"./Login.js";import{u as ea}from"./useDispatch.js";import"./NavigationLogin.js";function ra(){var s=ea(),U=i(function(n){return n.login}),R=U.profileImage,k=U.displayName,ne=R||localStorage.getItem("profile_image"),te=k||localStorage.getItem("display_name"),u=i(function(n){return n.change}),F=u.changeLoading;u.changeError;var p=u.changeSuccessMessage,v=u.changeErrorMessage,T=u.changeStatusCode,h=i(function(n){return n.email}),I=h.emailLoading;h.emailError;var C=h.emailSuccessMessage,x=h.emailErrorMessage,O=h.emailStatusCode,d=i(function(n){return n.password}),q=d.passwordLoading;d.passwordError;var S=d.passwordSuccessMessage,j=d.passwordErrorMessage,G=d.passwordStatusCode,g=i(function(n){return n.logout});g.logoutLoading,g.logoutError;var w=g.logoutSuccessMessage,E=g.logoutErrorMessage,c=i(function(n){return n.account}),V=c.accountLoading;c.accountError;var N=c.accountSuccessMessage,_=c.accountErrorMessage,z=c.accountStatusCode,P=c.email,re=c.username,oe=c.firstname,ce=c.lastname,le=c.phone,ie=t.useState(oe),B=l(ie,2),L=B[0],ue=B[1],he=t.useState(ce),H=l(he,2),M=H[0],de=H[1],ge=t.useState(re),J=l(ge,2),y=J[0],me=J[1],fe=t.useState(""),K=l(fe,2),m=K[0],pe=K[1],ve=t.useState(""),Q=l(ve,2),f=Q[0],Ce=Q[1],xe=t.useState(le),W=l(xe,2),b=W[0],Se=W[1],je=t.useState(""),X=l(je,2),D=X[0],we=X[1],Ee=t.useState(!1),Y=l(Ee,2);Y[0];var Ne=Y[1],_e=t.useState(""),Z=l(_e,2),Pe=Z[0],o=Z[1],Le=t.useState(""),$=l(Le,2),ee=$[0],r=$[1];t.useEffect(function(){(T==403||O==403||G==403||z==403)&&Ne(!0)},[s,T,O,G,z]),t.useEffect(function(){F&&r("")},[s,F]),t.useEffect(function(){I&&r("")},[s,I]),t.useEffect(function(){q&&r("")},[s,q]),t.useEffect(function(){V&&r("")},[s,V]),t.useEffect(function(){w&&(o("success"),r(w))},[s,w]),t.useEffect(function(){p&&(o("success"),r(p))},[s,p]),t.useEffect(function(){C&&(o("success"),r(C))},[s,C]),t.useEffect(function(){S&&(o("success"),r(S))},[s,S]),t.useEffect(function(){N&&(o("success"),r(N))},[s,N]),t.useEffect(function(){E&&(o("error"),r(E))},[s,E]),t.useEffect(function(){v&&(o("error"),r(v))},[s,v]),t.useEffect(function(){x&&(o("error"),r(x))},[s,x]),t.useEffect(function(){j&&(o("error"),r(j))},[s,j]),t.useEffect(function(){_&&(o("error"),r(_))},[s,_]);var Me=function(a){a.preventDefault(),a.target.name=="firstname"&&ue(a.target.value)},ye=function(a){a.preventDefault(),a.target.name=="lastname"&&de(a.target.value)},be=function(a){a.preventDefault(),(L!==""||M!=="")&&s(Ve({firstNameChange:L,lastNameChange:M})).then(function(A){A.payload.statusCode==201&&(s(ze(A.payload.firstname)),s(Be(A.payload.lastname)))})},De=function(a){a.preventDefault(),a.target.name=="username"&&me(a.target.value)},Ae=function(a){a.preventDefault(),y!=""&&s(He(y))},ae=function(a){a.preventDefault(),a.target.name=="password"&&pe(a.target.value),a.target.name=="confirmPassword"&&Ce(a.target.value)},Ue=function(a){a.preventDefault(),m==f&&m!=""&&f!=""&&s(Je({password:m,confirmPassword:f}))},Re=function(a){a.preventDefault(),P!=""||localStorage.getItem("email")!=""?s(Ke(P||localStorage.getItem("email"))):(o("error"),r("An email is required to reset password."))},ke=function(a){a.preventDefault(),a.target.name=="phone"&&Se(a.target.value)},Fe=function(a){a.preventDefault(),b!=""&&s(Qe(b))},Te=function(a){a.preventDefault(),a.target.name=="email"&&we(a.target.value)},Ie=function(a){a.preventDefault(),D!=""&&s(We(D))},Oe=function(){s(Xe()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},qe=function(){se!=null&&s(Ye()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Ge=function(){s(Ze())};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"dashboard",children:[e.jsx("h2",{className:"title",children:"Dashboard"}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("img",{src:"".concat(ne),alt:""})}),e.jsx("span",{children:te})]}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsx("th",{children:e.jsx("h2",{children:"Settings"})})}),e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("form",{action:"",children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"change-name",children:[e.jsx("input",{type:"text",name:"firstname",placeholder:"First Name",value:L,onChange:Me}),e.jsx("input",{type:"text",name:"lastname",placeholder:"Last Name",value:M,onChange:ye}),e.jsx("button",{onClick:be,children:e.jsx("h3",{children:"Change Name"})})]}),e.jsx("tr",{}),e.jsxs("tr",{className:"change-username",children:[e.jsx("input",{type:"text",name:"username",placeholder:"Username",value:y,onChange:De}),e.jsx("button",{onClick:Ae,children:e.jsx("h3",{children:"Change Username"})})]}),e.jsxs("tr",{className:"change-password",children:[e.jsx("input",{type:"password",name:"password",placeholder:"Password",value:m,onChange:ae}),e.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:f,onChange:ae}),e.jsx("button",{onClick:Ue,children:e.jsx("h3",{children:"Change Password"})})]}),e.jsx("tr",{className:"forgot-password",children:e.jsx("button",{onClick:Re,children:e.jsx("h3",{children:"Forgot Password"})})}),e.jsxs("tr",{className:"change-phone",children:[e.jsx("input",{type:"text",name:"phone",placeholder:"Phone Number",value:b,onChange:ke}),e.jsx("button",{onClick:Fe,children:e.jsx("h3",{children:"Change Phone"})})]}),e.jsxs("tr",{className:"remove-email",children:[e.jsx("input",{type:"text",name:"email",placeholder:"Email",value:D,onChange:Te}),e.jsx("button",{onClick:Ie,children:e.jsx("h3",{children:"Remove Email"})})]})]})]})})})}),e.jsxs("tr",{className:"logout",children:[e.jsx("button",{onClick:Oe,children:e.jsx("h3",{children:"LOG OUT"})}),se!=null&&e.jsx("button",{onClick:qe,children:e.jsx("h3",{children:"LOG OUT ALL"})})]}),e.jsx("tr",{className:"remove-account",children:e.jsx("button",{onClick:Ge,children:e.jsx("h3",{children:"REMOVE ACCOUNT"})})})]}),e.jsx("tfoot",{children:ee!==""&&e.jsx("div",{className:"status-bar card ".concat(Pe),children:e.jsx("span",{children:ee})})})]})]}),e.jsx("section",{className:"modal-overlay",children:e.jsx($e,{})})]})}export{ra as default};
//# sourceMappingURL=Dashboard.js.map
