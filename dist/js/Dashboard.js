import{u as i,r as t,_ as l,j as e,k as re,m as He,n as Je,o as Ke,p as Qe,q as We,h as Xe,s as Ye,t as Ze,l as $e,v as ea,w as aa}from"./index.js";import sa from"./Login.js";import{u as na}from"./useDispatch.js";function ca(){var n=na(),R=i(function(s){return s.login}),k=R.profileImage,F=R.displayName,oe=k||localStorage.getItem("profile_image"),ce=F||localStorage.getItem("display_name"),u=i(function(s){return s.change}),T=u.changeLoading;u.changeError;var p=u.changeSuccessMessage,C=u.changeErrorMessage,I=u.changeStatusCode,h=i(function(s){return s.email}),O=h.emailLoading;h.emailError;var x=h.emailSuccessMessage,S=h.emailErrorMessage,q=h.emailStatusCode,d=i(function(s){return s.password}),G=d.passwordLoading;d.passwordError;var j=d.passwordSuccessMessage,E=d.passwordErrorMessage,V=d.passwordStatusCode,g=i(function(s){return s.login});g.loginLoading,g.loginError,g.loginSuccessMessage,g.loginErrorMessage;var z=g.loginStatusCode,f=i(function(s){return s.logout});f.logoutLoading,f.logoutError;var w=f.logoutSuccessMessage,N=f.logoutErrorMessage,c=i(function(s){return s.account}),B=c.accountLoading;c.accountError;var _=c.accountSuccessMessage,L=c.accountErrorMessage,H=c.accountStatusCode,P=c.email,le=c.username,ie=c.firstname,ue=c.lastname,he=c.phone,de=t.useState(ie),J=l(de,2),M=J[0],ge=J[1],fe=t.useState(ue),K=l(fe,2),y=K[0],me=K[1],ve=t.useState(le),Q=l(ve,2),b=Q[0],pe=Q[1],Ce=t.useState(""),W=l(Ce,2),m=W[0],xe=W[1],Se=t.useState(""),X=l(Se,2),v=X[0],je=X[1],Ee=t.useState(he),Y=l(Ee,2),D=Y[0],we=Y[1],Ne=t.useState(""),Z=l(Ne,2),A=Z[0],_e=Z[1],Le=t.useState(!1),$=l(Le,2),Pe=$[0],ee=$[1],Me=t.useState(""),ae=l(Me,2),ye=ae[0],o=ae[1],be=t.useState(""),se=l(be,2),ne=se[0],r=se[1];t.useEffect(function(){z==200&&ee(!1)},[z]),t.useEffect(function(){(I==403||q==403||V==403||H==403)&&ee(!0)},[n,I,q,V,H]),t.useEffect(function(){T&&r("")},[n,T]),t.useEffect(function(){O&&r("")},[n,O]),t.useEffect(function(){G&&r("")},[n,G]),t.useEffect(function(){B&&r("")},[n,B]),t.useEffect(function(){w&&(o("success"),r(w))},[n,w]),t.useEffect(function(){p&&(o("success"),r(p))},[n,p]),t.useEffect(function(){x&&(o("success"),r(x))},[n,x]),t.useEffect(function(){j&&(o("success"),r(j))},[n,j]),t.useEffect(function(){_&&(o("success"),r(_))},[n,_]),t.useEffect(function(){N&&(o("error"),r(N))},[n,N]),t.useEffect(function(){C&&(o("error"),r(C))},[n,C]),t.useEffect(function(){S&&(o("error"),r(S))},[n,S]),t.useEffect(function(){E&&(o("error"),r(E))},[n,E]),t.useEffect(function(){L&&(o("error"),r(L))},[n,L]);var De=function(a){a.preventDefault(),a.target.name=="firstname"&&ge(a.target.value)},Ae=function(a){a.preventDefault(),a.target.name=="lastname"&&me(a.target.value)},Ue=function(a){a.preventDefault(),(M!==""||y!=="")&&n(He({firstNameChange:M,lastNameChange:y})).then(function(U){U.payload.statusCode==201&&(n(Je(U.payload.firstname)),n(Ke(U.payload.lastname)))})},Re=function(a){a.preventDefault(),a.target.name=="username"&&pe(a.target.value)},ke=function(a){a.preventDefault(),b!=""&&n(Qe(b))},te=function(a){a.preventDefault(),a.target.name=="password"&&xe(a.target.value),a.target.name=="confirmPassword"&&je(a.target.value)},Fe=function(a){a.preventDefault(),m==v&&m!=""&&v!=""&&n(We({password:m,confirmPassword:v}))},Te=function(a){a.preventDefault(),P!=""||localStorage.getItem("email")!=""?n(Xe(P||localStorage.getItem("email"))):(o("error"),r("An email is required to reset password."))},Ie=function(a){a.preventDefault(),a.target.name=="phone"&&we(a.target.value)},Oe=function(a){a.preventDefault(),D!=""&&n(Ye(D))},qe=function(a){a.preventDefault(),a.target.name=="email"&&_e(a.target.value)},Ge=function(a){a.preventDefault(),A!=""&&n(Ze(A))},Ve=function(){n($e()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},ze=function(){re!=null&&n(ea()).then(function(){setTimeout(function(){window.location.href="/"},5e3)})},Be=function(){n(aa())};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"dashboard",children:[e.jsx("h2",{className:"title",children:"Dashboard"}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("img",{src:"".concat(oe),alt:""})}),e.jsx("span",{children:ce})]}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsx("th",{children:e.jsx("h2",{children:"Settings"})})}),e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("form",{action:"",children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"change-name",children:[e.jsx("input",{type:"text",name:"firstname",placeholder:"First Name",value:M,onChange:De}),e.jsx("input",{type:"text",name:"lastname",placeholder:"Last Name",value:y,onChange:Ae}),e.jsx("button",{onClick:Ue,children:e.jsx("h3",{children:"Change Name"})})]}),e.jsx("tr",{}),e.jsxs("tr",{className:"change-username",children:[e.jsx("input",{type:"text",name:"username",placeholder:"Username",value:b,onChange:Re}),e.jsx("button",{onClick:ke,children:e.jsx("h3",{children:"Change Username"})})]}),e.jsxs("tr",{className:"change-password",children:[e.jsx("input",{type:"password",name:"password",placeholder:"Password",value:m,onChange:te}),e.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:v,onChange:te}),e.jsx("button",{onClick:Fe,children:e.jsx("h3",{children:"Change Password"})})]}),e.jsx("tr",{className:"forgot-password",children:e.jsx("button",{onClick:Te,children:e.jsx("h3",{children:"Forgot Password"})})}),e.jsxs("tr",{className:"change-phone",children:[e.jsx("input",{type:"text",name:"phone",placeholder:"Phone Number",value:D,onChange:Ie}),e.jsx("button",{onClick:Oe,children:e.jsx("h3",{children:"Change Phone"})})]}),e.jsxs("tr",{className:"remove-email",children:[e.jsx("input",{type:"text",name:"email",placeholder:"Email",value:A,onChange:qe}),e.jsx("button",{onClick:Ge,children:e.jsx("h3",{children:"Remove Email"})})]})]})]})})})}),e.jsxs("tr",{className:"logout",children:[e.jsx("button",{onClick:Ve,children:e.jsx("h3",{children:"LOG OUT"})}),re!=null&&e.jsx("button",{onClick:ze,children:e.jsx("h3",{children:"LOG OUT ALL"})})]}),e.jsx("tr",{className:"remove-account",children:e.jsx("button",{onClick:Be,children:e.jsx("h3",{children:"REMOVE ACCOUNT"})})})]}),e.jsx("tfoot",{children:ne!==""&&e.jsx("div",{className:"status-bar card ".concat(ye),children:e.jsx("span",{children:ne})})})]})]}),Pe&&e.jsx("section",{className:"modal-overlay",children:e.jsx(sa,{})})]})}รง;export{ca as default};
//# sourceMappingURL=Dashboard.js.map
