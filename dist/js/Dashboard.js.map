{"version":3,"file":"Dashboard.js","sources":["../../src/views/Dashboard.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { logout, logoutAllUrl, logoutAll } from '../controllers/logoutSlice';\n\nfunction Dashboard() {\n  const dispatch = useDispatch();\n  const { profileImage, displayName } = useSelector((loginSlice) => loginSlice);\n\n  const profileImg = profileImage\n    ? profileImage\n    : localStorage.getItem('profile_image');\n  const usersDisplayName = displayName\n    ? displayName\n    : localStorage.getItem('display_name');\n\n  const { logoutSuccessMessage, logoutErrorMessage } = useSelector(\n    (state) => state.logout\n  );\n\n  const [messageType, setMessageType] = useState('');\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    if (logoutSuccessMessage) {\n      setMessageType('success');\n      setMessage(logoutSuccessMessage);\n    }\n  }, [logoutSuccessMessage]);\n\n  useEffect(() => {\n    if (logoutErrorMessage) {\n      setMessageType('error');\n      setMessage(logoutErrorMessage);\n    }\n  }, [logoutErrorMessage]);\n\n  const handleLogout = () => {\n    dispatch(logout()).then(() => {\n      setTimeout(() => {\n        window.location.href = '/';\n      }, 5000);\n    });\n  };\n\n  const handleLogoutAll = () => {\n    if (logoutAllUrl != null) {\n      dispatch(logoutAll()).then(() => {\n        setTimeout(() => {\n          window.location.href = '/';\n        }, 5000);\n      });\n    }\n  };\n\n  return (\n    <section className=\"dashboard\">\n      <h2 className=\"title\">Dashboard</h2>\n      <div>\n        <div>\n          <img src={`${profileImg}`} alt=\"\" />\n        </div>\n        <span>{usersDisplayName}</span>\n      </div>\n\n      <div>\n        {/* Change Name */}\n\n        {/* Change Title */}\n\n        {/* Chanage Username */}\n\n        {/* Change Password */}\n\n        {/* Change Phone */}\n\n        {/* Remove Email */}\n\n        {/* Delete Account */}\n      </div>\n\n      <div>\n        <div>\n          <button onClick={handleLogout}>\n            <h3>LOG OUT</h3>\n          </button>\n\n          {logoutAllUrl != null && (\n            <button onClick={handleLogoutAll}>\n              <h3>LOG OUT ALL</h3>\n            </button>\n          )}\n        </div>\n\n        {message !== '' && (\n          <div className={`status-bar card ${messageType}`}>\n            <span>{message}</span>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n}\n\nexport default Dashboard;\n"],"names":["Dashboard","dispatch","useDispatch","_useSelector","useSelector","loginSlice","profileImage","displayName","profileImg","localStorage","getItem","usersDisplayName","_useSelector2","state","logout","logoutSuccessMessage","logoutErrorMessage","_useState","useState","_useState2","_slicedToArray","messageType","setMessageType","_useState3","_useState4","message","setMessage","useEffect","handleLogout","then","setTimeout","window","location","href","handleLogoutAll","logoutAllUrl","logoutAll","jsxs","className","children","jsx","src","concat","alt","onClick"],"mappings":"8GAKA,SAASA,GAAY,CACnB,IAAMC,EAAWC,IACjBC,EAAsCC,EAAY,SAACC,UAAeA,EAAU,EAApEC,EAAcH,EAAdG,aAAcC,EAAAJ,EAAAI,YAEhBC,EAAaF,GAEfG,aAAaC,QAAQ,eAAe,EAClCC,EAAmBJ,GAErBE,aAAaC,QAAQ,cAAc,EAEjCE,EAA+CR,EACnD,SAACS,UAAUA,EAAMC,MAAA,CACnB,EAFQC,EAAsBH,EAAtBG,qBAAsBC,EAAAJ,EAAAI,mBAI9BC,EAAsCC,WAAS,EAAE,EAAAC,EAAAC,EAAAH,EAAA,CAAA,EAA1CI,EAAAF,EAAA,CAAA,EAAaG,EAAcH,EAAA,CAAA,EAClCI,EAA8BL,WAAS,EAAE,EAAAM,EAAAJ,EAAAG,EAAA,CAAA,EAAlCE,EAAAD,EAAA,CAAA,EAASE,EAAUF,EAAA,CAAA,EAE1BG,EAAAA,UAAU,UAAM,CACVZ,IACFO,EAAe,SAAS,EACxBI,EAAWX,CAAoB,EAEnC,EAAG,CAACA,CAAoB,CAAC,EAEzBY,EAAAA,UAAU,UAAM,CACVX,IACFM,EAAe,OAAO,EACtBI,EAAWV,CAAkB,EAEjC,EAAG,CAACA,CAAkB,CAAC,EAEvB,IAAMY,EAAe,UAAM,CACzB3B,EAASa,EAAO,CAAC,EAAEe,KAAK,UAAM,CAC5BC,WAAW,UAAM,CACfC,OAAOC,SAASC,KAAO,KACtB,GAAI,CACT,CAAC,GAGGC,EAAkB,UAAM,CACxBC,GAAgB,MAClBlC,EAASmC,EAAU,CAAC,EAAEP,KAAK,UAAM,CAC/BC,WAAW,UAAM,CACfC,OAAOC,SAASC,KAAO,KACtB,GAAI,CACT,CAAC,GAKH,OAAAI,EAAAA,KAAC,UAAQ,CAAAC,UAAU,YACjBC,SAAA,CAACC,EAAA,IAAA,KAAA,CAAGF,UAAU,QAAQC,SAAS,WAAA,CAAA,SAC9B,MACC,CAAAA,SAAA,CAACC,EAAA,IAAA,MAAA,CACCD,eAAC,MAAI,CAAAE,IAAAC,GAAAA,OAAQlC,CAAU,EAAImC,IAAI,GAAG,CACpC,CAAA,EACAH,EAAA,IAAC,QAAMD,SAAiB5B,CAAA,CAAA,CAAA,CAC1B,CAAA,QAEC,MAcD,CAAA,CAAA,SAEC,MACC,CAAA4B,SAAA,CAAAF,EAAA,KAAC,MACC,CAAAE,SAAA,CAAAC,EAAA,IAAC,UAAOI,QAAShB,EACfW,SAACC,EAAA,IAAA,KAAA,CAAGD,mBAAO,CACb,CAAA,EAECJ,GAAgB,MACdK,EAAAA,IAAA,SAAA,CAAOI,QAASV,EACfK,SAAAC,EAAA,IAAC,KAAG,CAAAD,SAAA,cAAW,CACjB,CAAA,CAAA,CAEJ,CAAA,EAECd,IAAY,IACXe,EAAAA,IAAC,MAAI,CAAAF,UAAAI,mBAAAA,OAA8BrB,CAAW,EAC5CkB,SAAAC,EAAA,IAAC,OAAM,CAAAD,SAAAd,EAAQ,CACjB,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CAEJ"}