import{a7 as D,J as F,K as r,s as i,Z as f,j as e,ab as N}from"./index.js";import{u as k}from"./useDispatch.js";function J(){var l=D(),m=l.username,p=l.confirmationCode,S=k(),c=F(function(d){return d.change});c.changeLoading,c.changeError;var u=c.changeSuccessMessage,h=c.changeErrorMessage,P=r.useState(""),x=i(P,2),s=x[0],C=x[1],E=r.useState(""),g=i(E,2),a=g[0],_=g[1],y=r.useState("Enter your preferred password twice."),j=i(y,2),w=j[0],t=j[1],b=r.useState(""),v=i(b,2),M=v[0],n=v[1];r.useEffect(function(){s!=""&&a!=""&&s===a&&(t("You have entered your password twice."),n("success"))},[s,a]),r.useEffect(function(){s!=""&&f(s)==!1&&(t("Password is not valid."),n("error"))},[s]),r.useEffect(function(){s!=""&&a!=""&&!f(s)&&s!=a&&(t("Passwords do not match."),n("error"))},[s,a]),r.useEffect(function(){u&&(t(u),n("success"))},[u]),r.useEffect(function(){h&&(t(h),n("error"))},[h]);var R=function(o){C(o.target.value)},T=function(o){_(o.target.value)},q=function(o){o.preventDefault(),m&&p&&f(s)&&s===a&&S(N({username:m,confirmationCode:p,password:s}))};return e.jsx(e.Fragment,{children:e.jsx("section",{children:e.jsx("main",{children:e.jsx("form",{action:"",children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"password",name:"password",placeholder:"Password",onChange:R,required:!0})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:T,required:!0})})})]}),e.jsxs("tfoot",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:q,children:e.jsx("h3",{children:"CONFIRM"})})})}),e.jsx("tr",{children:e.jsx("td",{children:w!==""&&e.jsx("div",{className:"status-bar card ".concat(M),children:e.jsx("span",{children:w})})})})]})]})})})})})}export{J as default};
//# sourceMappingURL=PasswordRecovery.js.map
