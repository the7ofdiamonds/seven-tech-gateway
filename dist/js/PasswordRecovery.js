import{a as k,u as A,r as s,e as o,j as e,ad as I,af as O,o as Y,ag as z}from"./index.js";import{S as G}from"./StatusBarComponent.js";import{u as H}from"./useDispatch.js";function Q(){var m=k(),P=m.emailEncoded,h=m.confirmationCode,p=P.replace(/%40/g,"@"),E=H(),c=A(function(u){return u.password}),f=c.passwordSuccessMessage,l=c.passwordErrorMessage,w=c.passwordStatusCode,_=s.useState(""),S=o(_,2),a=S[0],y=S[1],b=s.useState(""),x=o(b,2),r=x[0],M=x[1],T=s.useState(!1),j=o(T,2),R=j[0],g=j[1],V=s.useState("Enter your preferred password twice."),C=o(V,2),n=C[0],d=C[1],q=s.useState(""),v=o(q,2),B=v[0],i=v[1];s.useEffect(function(){a!=""&&r!=""&&a===r&&(d("You have entered your password twice."),i("success"))},[a,r]),s.useEffect(function(){a!=""&&r!=""&&a!=r&&(d("Passwords do not match."),i("error"))},[a,r]),s.useEffect(function(){f&&(d(f),i("success"))},[f]),s.useEffect(function(){l&&(d(l),i("error"))},[l]),s.useEffect(function(){w!=403&&n!=""&&(g("modal-overlay"),setTimeout(function(){g(!0)},3e3))},[w,n]);var D=function(t){t.target.name=="password"&&y(t.target.value)},F=function(t){t.target.name=="confirmPassword"&&M(t.target.value)},N=function(t){t.preventDefault(),I(p)&&O(h)&&Y(a)&&a===r&&E(z({email:p,password:a,confirmPassword:r,confirmationCode:h}))};return e.jsx(e.Fragment,{children:e.jsx("section",{children:e.jsx("main",{children:e.jsx("form",{action:"",children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"password",name:"password",placeholder:"Password",onChange:D,required:!0})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:F,required:!0})})})]}),e.jsxs("tfoot",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:N,children:e.jsx("h3",{children:"CONFIRM"})})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("span",{className:R,children:n!=""&&e.jsx(G,{messageType:B,message:n})})})})]})]})})})})})}export{Q as default};
//# sourceMappingURL=PasswordRecovery.js.map
