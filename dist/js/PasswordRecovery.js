import{aa as A,u as I,r as s,_ as o,j as e,ad as O}from"./index.js";import{u as Y,S as z}from"./StatusBarComponent.js";function J(){var m=A(),v=m.emailEncoded,C=m.confirmationCode,_=v.replace(/%40/g,"@"),P=Y(),u=I(function(c){return c.password}),f=u.passwordSuccessMessage,l=u.passwordErrorMessage,p=u.passwordStatusCode,y=s.useState(""),h=o(y,2),a=h[0],E=h[1],b=s.useState(""),w=o(b,2),r=w[0],M=w[1],T=s.useState(!1),S=o(T,2),R=S[0],x=S[1],q=s.useState("Enter your preferred password twice."),j=o(q,2),n=j[0],d=j[1],B=s.useState(""),g=o(B,2),D=g[0],i=g[1];s.useEffect(function(){a!=""&&r!=""&&a===r&&(d("You have entered your password twice."),i("success"))},[a,r]),s.useEffect(function(){a!=""&&r!=""&&a!=r&&(d("Passwords do not match."),i("error"))},[a,r]),s.useEffect(function(){f&&(d(f),i("success"))},[f]),s.useEffect(function(){l&&(d(l),i("error"))},[l]),s.useEffect(function(){n!=""&&p==200&&(x("modal-overlay"),setTimeout(function(){x("")},5e3))},[n,p]);var F=function(t){t.target.name=="password"&&E(t.target.value)},N=function(t){t.target.name=="confirm-password"&&M(t.target.value)},k=function(t){t.preventDefault(),P(O({email:_,password:a,confirmPassword:r,confirmationCode:C}))};return e.jsx(e.Fragment,{children:e.jsx("section",{children:e.jsx("main",{children:e.jsx("form",{action:"",children:e.jsxs("table",{children:[e.jsx("thead",{}),e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"password",name:"password",placeholder:"Password",onChange:F,required:!0})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("input",{type:"password",name:"confirm-password",placeholder:"Confirm Password",onChange:N,required:!0})})})]}),e.jsxs("tfoot",{children:[e.jsx("tr",{children:e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:k,id:"confirm_password_btn",children:e.jsx("h3",{children:"CONFIRM"})})})}),e.jsx("tr",{children:e.jsx("td",{children:e.jsx("span",{className:R,children:n!=""&&e.jsx(z,{messageType:D,message:n})})})})]})]})})})})})}export{J as default};
//# sourceMappingURL=PasswordRecovery.js.map
